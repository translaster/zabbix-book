{"config":{"lang":["fr","de","it","nl","pt","es","th","zh","en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About page","text":""},{"location":"#license","title":"License","text":"<p>Please before you start take a look at our most updated license : License on Github.</p> <p>The Zabbix Book is a freely accessible resource designed to help users understand and master Zabbix. Contributions are highly encouraged to improve and expand its content. However, the book is distributed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 (CC BY-NC-SA 4.0) license, meaning it is free for non-commercial use only.</p> <p>Contributors should be aware that:</p> <ul> <li>By contributing to this work, you irrevocably assign and transfer all rights, title, and interest in your contributions to The Monitoring Penmasters Foundation, including any associated intellectual property rights, to the fullest extent permitted by law.</li> <li>The Monitoring Penmasters Foundation reserves the right to use, reproduce, modify, distribute, and commercially exploit any contributed material in any form, including but not limited to the publication of physical and digital books.</li> <li>All contributors must sign a Deed of Transfer of Intellectual Property Rights before making any contributions, ensuring the proper transfer of rights and handling of the content by The Monitoring Penmasters Foundation. Any contributions without a signed Deed of Transfer of Intellectual Property Rights cannot be accepted.</li> <li>All profits generated will be used by The Monitoring Penmasters Foundation to cover operational expenses and to sponsor other open-source projects, as determined by the foundation.</li> </ul> <p>Your contributions are invaluable and will help make The Zabbix Book an even greater resource for the entire community!</p> <p>Shield: </p> <p>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</p> <p></p>"},{"location":"Guidelines/","title":"Guidelines","text":""},{"location":"Guidelines/#how-to-contribute","title":"How to contribute","text":"<ul> <li>Clone the repository to you pc</li> <li>Install the needed software for Mkdocs to work, check   how-to-install-mkdocs.md</li> <li>Create a new branch to make your changes<ul> <li>git branch \"&lt;your branch name&gt;\"</li> <li>git checkout \"&lt;your branch name&gt;\"</li> </ul> </li> <li>Make the changes you want and commit them<ul> <li>git add \"files you changed\"</li> <li>git commit -m \"add useful commit info\"</li> </ul> </li> <li>Return back to the main branch<ul> <li>git checkout main</li> </ul> </li> <li>Make sure you have the latest changes merged from main<ul> <li>git pull origin main</li> </ul> </li> <li>Merge your branch into the main branch<ul> <li>git merge \"&lt;your branch name&gt;\"</li> <li>git push</li> </ul> </li> <li>cleanup your branch<ul> <li>git branch -d \"&lt;your branch name&gt;\"</li> </ul> </li> </ul>"},{"location":"ch0-getting-started/Requirements/","title":"System Requirements","text":""},{"location":"ch0-getting-started/Requirements/#requirements","title":"Requirements","text":"<p>Zabbix has specific hardware and software requirements that must be met, and these requirements may change over time. They also depend on the size of your setup and the software stack you select. Before purchasing hardware or installing a database version, it's essential to consult the Zabbix documentation for the most up-to-date requirements for the version you plan to install. You can find the latest requirements https://www.zabbix.com/documentation/current/en/manual/installation/requirements. Make sure to select the correct Zabbix version from the list.</p> <p>For smaller or test setups, Zabbix can comfortably run on a system with 2 CPUs and 8 GB of RAM. However, your setup size, the number of items you monitor, the triggers you create, and how long you plan to retain data will impact resource requirements. In today's virtualised environments, my advice is to start small and scale up as needed.</p> <p>You can install all components (Zabbix server, database, web server) on a single machine or distribute them across multiple servers. For simplicity, take note of the server details:</p> Component IP Address Zabbix Server Database Server Web Server Tip <p>Zabbix package names often use dashes (<code>-</code>) in their names, such as <code>zabbix-get</code> or <code>zabbix-sender</code>, but the binaries themselves may use underscores (<code>_</code>), like <code>zabbix_sender</code> or <code>zabbix_server</code>. This naming discrepancy can sometimes be confusing, particularly if you are using packages from non-official Zabbix repositories. Always check if a binary uses a dash or an underscore when troubleshooting.</p>"},{"location":"ch0-getting-started/Requirements/#basic-os-configuration","title":"Basic OS Configuration","text":"<p>Operating systems, so many choices, each with its own advantages and loyal user base. While Zabbix can be installed on a wide range of platforms, documenting the process for every available OS would be impractical. To keep this book focused and efficient, we have chosen to cover only the most widely used options: Ubuntu and Red Hat based distributions.</p> <p>Since not everyone has access to a Red Hat Enterprise Linux (RHEL) subscription even though a developer account provides limited access we have opted for Rocky Linux as a readily available alternative. For this book, we will be using Rocky Linux 9.x and Ubuntu LTS 24.04.x.</p> <ul> <li>https://rockylinux.org/</li> <li>https://ubuntu.com/</li> </ul>"},{"location":"ch0-getting-started/Requirements/#firewall","title":"Firewall","text":"<p>Before installing Zabbix, it's essential to properly prepare the operating system. The first step is to ensure that the firewall is installed and configured.</p> <p>To install and enable the firewall, run the following command:</p> <pre><code>RedHat\n# dnf install firewalld\n# systemctl enable firewalld --now\n\nUbuntu\n# sudo apt install ufw -y\n# sudo ufw enable\n</code></pre> <p>Once installed, you can configure the necessary ports. For Zabbix, we need to allow access to port <code>10051/tcp</code>, which is where the Zabbix trapper listens for incoming data. Use the following command to open this port in the firewall:</p> <pre><code>RedHat\n# firewall-cmd --add-service=zabbix-server --permanent\n\nUbuntu\n# sudo ufw allow 10051/tcp\n</code></pre> <p>If the service is not recognized, you can manually specify the port:</p> <pre><code># firewall-cmd --add-port=10051/tcp --permanent\n</code></pre> <p>firewalld</p> <p>\"Firewalld is the replacement for iptables in RHEL-based systems and allows changes to take effect immediately without needing to restart the service. If your distribution does not use Firewalld, refer to your OS documentation for the appropriate firewall configuration steps.\" Ubuntu makes use of UFW and is merely a frontend for iptables.</p>"},{"location":"ch0-getting-started/Requirements/#time-server","title":"Time Server","text":"<p>Another crucial step is configuring the time server and syncing the Zabbix server using an NTP client. Accurate time synchronization is vital for Zabbix, both for the server and the devices it monitors. If one of the hosts has an incorrect time zone, it could lead to confusion, such as investigating an issue in Zabbix that appears to have happened hours earlier than it actually did.</p> <p>To install and enable chrony, our NTP client, use the following command:</p> <pre><code>RedHat\n# dnf install chrony\n# systemctl enable chronyd --now\n\nUbuntu\n# sudo apt install chrony -y\n</code></pre> <p>Once installed, you can verify that Chrony is enabled and running by checking its status:</p> <pre><code>RedHat\n# systemctl status chronyd\n</code></pre> <p>dnf</p> <p>\"dnf is a package manager used in Red Hat-based systems. If you're using another distribution, replace <code>dnf</code> with your appropriate package manager, such as <code>zyper</code>, <code>apt</code>, or <code>yum</code>. Chrony is a modern replacement for <code>ntpd</code>, offering faster and more accurate time synchronization. If your OS does not support Chrony, consider using <code>ntpd</code> instead.\"</p> <p>Once Chrony is installed, the next step is to ensure the correct time zone is set. You can view your current time configuration using the <code>timedatectl</code> command:</p> <pre><code># timedatectl\n               Local time: Thu 2023-11-16 15:09:14 UTC\n           Universal time: Thu 2023-11-16 15:09:14 UTC\n                 RTC time: Thu 2023-11-16 15:09:15\n                Time zone: UTC (UTC, +0000)\nSystem clock synchronized: yes\n              NTP service: active\n          RTC in local TZ: no\n</code></pre> <p>Ensure that the Chrony service is active (refer to the previous steps if needed). To set the correct time zone, first, you can list all available time zones with the following command:</p> <pre><code># timedatectl list-timezones\n</code></pre> <p>This will display a list of time zones, from which you can select the one closest to your location, for example:</p> <pre><code>Africa/Abidjan\nAfrica/Accra\n...\nPacific/Tongatapu\nPacific/Wake\nPacific/Wallis\nUTC\n</code></pre> <p>Once you've identified your time zone, configure it using the following command:</p> <pre><code># timedatectl set-timezone Europe/Brussels\n</code></pre> <p>To verify that the time zone has been configured correctly, use the <code>timedatectl</code> command again:</p> <pre><code># timedatectl\n               Local time: Thu 2023-11-16 16:13:35 CET\n           Universal time: Thu 2023-11-16 15:13:35 UTC\n                 RTC time: Thu 2023-11-16 15:13:36\n                Time zone: Europe/Brussels (CET, +0100)\nSystem clock synchronized: yes\n              NTP service: active\n          RTC in local TZ: no\n</code></pre> Note <p>Some administrators prefer installing all servers in the UTC time zone to ensure that server logs across global deployments are synchronized. Zabbix supports user-based time zone settings, which allows the server to remain in UTC while individual users can adjust the time zone via the interface if needed.</p>"},{"location":"ch0-getting-started/Requirements/#verifying-chrony-synchronization","title":"Verifying Chrony Synchronization","text":"<p>To ensure that Chrony is synchronizing with the correct time servers, you can run the following command:</p> <pre><code># chronyc\n</code></pre> <p>The output should resemble:</p> <pre><code>chrony version 4.2\nCopyright (C) 1997-2003, 2007, 2009-2021 Richard P. Curnow and others\nchrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and\nyou are welcome to redistribute it under certain conditions.  See the\nGNU General Public License version 2 for details.\n\nchronyc&gt;\n</code></pre> <p>Once inside the Chrony prompt, type the following to check the sources:</p> <pre><code>chronyc&gt; sources\n</code></pre> <p>Example output:</p> <pre><code>MS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^- 51-15-20-83.rev.poneytel&gt;     2   9   377   354   +429us[ +429us] +/-  342ms\n^- 5.255.99.180                  2  10   377   620  +7424us[+7424us] +/-   37ms\n^- hachi.paina.net               2  10   377   412   +445us[ +445us] +/-   39ms\n^* leontp1.office.panq.nl        1  10   377   904  +6806ns[ +171us] +/- 2336us\n</code></pre> <p>In this example, the NTP servers in use are located outside your local region. It is recommended to switch to time servers in your country or, if available, to a dedicated company time server. You can find local NTP servers here.</p>"},{"location":"ch0-getting-started/Requirements/#updating-time-servers","title":"Updating Time Servers","text":"<p>To update the time servers, modify the <code>/etc/chrony.conf</code> file under RedHat based systems if you use Ubuntu edit <code>/etc/chrony/chrony.conf</code> . Replace the existing NTP server with one closer to your location.</p> <p>Example of the current configuration:</p> <pre><code># Use public servers from the pool.ntp.org project.\n# Please consider joining the pool (http://www.pool.ntp.org/join.html).\npool 2.centos.pool.ntp.org iburst\n</code></pre> <p>Change the pools you want to a local time server:</p> <pre><code># Use public servers from the pool.ntp.org project.\n# Please consider joining the pool (http://www.pool.ntp.org/join.html).\npool be.pool.ntp.org iburst\n</code></pre> <p>After making this change, restart the Chrony service to apply the new configuration:</p> <pre><code># systemctl restart chronyd\n</code></pre>"},{"location":"ch0-getting-started/Requirements/#verifying-updated-time-servers","title":"Verifying Updated Time Servers","text":"<p>Check the time sources again to ensure that the new local servers are in use:</p> <pre><code>chronyc&gt; sources\n</code></pre> <p>Example of expected output with local servers:</p> <pre><code>MS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^- ntp1.unix-solutions.be        2   6    17    43   -375us[ -676us] +/-   28ms\n^* ntp.devrandom.be              2   6    17    43   -579us[ -880us] +/- 2877us\n^+ time.cloudflare.com           3   6    17    43   +328us[  +27us] +/- 2620us\n^+ time.cloudflare.com           3   6    17    43\n</code></pre> <p>This confirms that the system is now using local time servers.</p>"},{"location":"ch0-getting-started/initial-steps/","title":"Getting Started with Zabbix \u2013 Unlocking the Power of Monitoring","text":"<p>Welcome to the world of Zabbix, a powerful open-source monitoring solution designed to give you comprehensive insights into your IT infrastructure. Whether you're managing a small network or overseeing a large-scale enterprise system, Zabbix provides the tools you need to monitor performance, detect issues, and ensure the smooth operation of your services.</p> <p>In this book, we focus on Zabbix LTS 8.0, the long-term support version that ensures stability and reliability for your monitoring needs. We'll explore its extensive feature set, including the newly introduced reporting functionality and built-in web monitoring based on the Selenium driver, which allows for sophisticated end-user experience monitoring through automated browser interactions.</p> <p>Zabbix is more than just a simple monitoring tool. It offers a wide range of features that allow you to:</p> <ul> <li>Monitor diverse environments: Track the performance and availability of servers, virtual machines, network devices, databases, and applications.</li> <li>Create dynamic visualizations: Use dashboards, graphs, maps, and screens to visualize data and get an overview of your system's health at a glance.</li> <li>Set up complex alerting mechanisms: Define triggers and actions that notify you of potential issues before they become critical, using various channels like email, SMS, and integrations with external services.</li> <li>Automate monitoring tasks: Leverage auto-discovery and auto-registration to keep up with changing environments without manual intervention.</li> <li>Customize and extend: Build custom scripts, templates, and integrations to tailor Zabbix to your specific needs.</li> </ul>"},{"location":"ch1-zabbix-components/basic-installation/","title":"Basic installation","text":"<p>In this chapter, we will walk through the process of installing the Zabbix server. There are many different ways to setup a Zabbix server. We will cover the most common setups with MariaDB and PostgreSQL on Ubuntu and on Rocky Linux.</p> <p>Before beginning the installation, it is important to understand the architecture of Zabbix. The Zabbix server is structured in a modular fashion, composed of three main components, which we will discuss in detail.</p> <ul> <li>The Zabbix server</li> <li>The Zabbix web server</li> <li>The Zabbix database</li> </ul> <p> 1.1 Zabbix basic split installation</p> <p>All of these components can either be installed on a single server or distributed across three separate servers. The core of the system is the Zabbix server, often referred to as the \"brain.\" This component is responsible for processing trigger calculations and sending alerts. The database serves as the storage for the Zabbix server\u2019s configuration and all the data it collects. The web server provides the user interface (front-end) for interacting with the system. It is important to note that the Zabbix API is part of the front-end component, not the Zabbix server itself.</p> <p>These components must function together seamlessly, as illustrated in the diagram above. The Zabbix server must read configurations and store monitoring data in the database, while the front-end needs access to read and write configuration data. Furthermore, the front-end must be able to check the status of the Zabbix server and retrieve additional necessary information to ensure smooth operation.</p> <p>For our setup, we will be using two virtual machines (VMs): one VM will host both the Zabbix server and the Zabbix web front-end, while the second VM will host the Zabbix database.</p> Note <p>It's perfect possible to install all components on 1 single VM or every component on a separate VM. Reason we split the DB as an example is because the database will probably be the first component giving you performance headaches. It's also the component that needs some extra attention when we split it so for this reason we have chosen in this example to split the database from the rest of the setup.</p> <p>We will cover the following topics:</p> <ul> <li>Install our Database based on MariaDB.</li> <li>Install our Database based on PostgreSQL.</li> <li>Installing the Zabbix server.</li> <li>Install the frontend.</li> </ul>"},{"location":"ch1-zabbix-components/basic-installation/#installing-the-mariadb-database","title":"Installing the MariaDB database","text":"<p>To begin the installation process for the MariaDB server, the first step involves manually creating a repository configuration file. This file, mariadb.repo on Rocky, must be placed in the /etc/yum.repos.d/ directory. The repository file will allow your package manager to locate and install the necessary MariaDB components. For Ubuntu we need to import the repository keys and create a file for example '/etc/apt/sources.list.d/mariadb.sources'.</p> <p>To create the MariaDB repository file, execute the following command in your terminal:</p> <pre><code>RedHat\n# vi /etc/yum.repos.d/mariadb.repo\n\nUbuntu\n# sudo apt-get install apt-transport-https curl\n# sudo mkdir -p /etc/apt/keyrings\n#sudo curl -o /etc/apt/keyrings/mariadb-keyring.pgp 'https://mariadb.org/mariadb_release_signing_key.pgp'\n\n# sudo vi /etc/apt/sources.list.d/mariadb.sources\n</code></pre> <p>This will open a text editor where you can input the repository configuration details. Once the repository is configured, you can proceed with the installation of MariaDB using your package manager.</p> Tip <p>Always check Zabbix documentation for the latest supported versions.</p> <p>The latest config can be found here: https://mariadb.org/download/?t=repo-config</p> <p>Here\u2019s the configuration you need to add into the file:</p> <pre><code>RedHat\n# MariaDB 11.4 RedHatEnterpriseLinux repository list - created 2025-02-21 10:15 UTC\n# https://mariadb.org/download/\n[mariadb]\nname = MariaDB\n# rpm.mariadb.org is a dynamic mirror if your preferred mirror goes offline. See https://mariadb.org/mirrorbits/ for details.\n# baseurl = https://rpm.mariadb.org/11.4/rhel/$releasever/$basearch\nbaseurl = https://mirror.bouwhuis.network/mariadb/yum/11.4/rhel/$releasever/$basearch\n# gpgkey = https://rpm.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgkey = https://mirror.bouwhuis.network/mariadb/yum/RPM-GPG-KEY-MariaDB\ngpgcheck = 1\n\nUbuntu\n# MariaDB 11.4 repository list - created 2025-02-21 11:42 UTC\n# https://mariadb.org/download/\nX-Repolib-Name: MariaDB\nTypes: deb\n# deb.mariadb.org is a dynamic mirror if your preferred mirror goes offline. See https://mariadb.org/mirrorbits/ for details.\n# URIs: https://deb.mariadb.org/11.4/ubuntu\nURIs: https://mirror.bouwhuis.network/mariadb/repo/11.4/ubuntu\nSuites: noble\nComponents: main main/debug\nSigned-By: /etc/apt/keyrings/mariadb-keyring.pgp\n</code></pre> <p>After saving the file, ensure that everything is properly set up and that your MariaDB version is compatible with your Zabbix version to avoid potential integration issues.</p> <p>Before proceeding with the MariaDB installation, it\u2019s a best practice to ensure your operating system is up-to-date with the latest patches and security fixes. This will help maintain system stability and compatibility with the software you're about to install.</p> <p>To update your OS, run the following command:</p> <pre><code>RedHat\n# dnf update -y\n\n\nUbuntu\nsudo apt-get update\n</code></pre> <p>This command will automatically fetch and install the latest updates available for your system, applying security patches, performance improvements, and bug fixes. Once the update process is complete, you can move forward with the MariaDB installation.</p>"},{"location":"ch1-zabbix-components/basic-installation/#install-the-mariadb-database","title":"Install the MariaDB database","text":"<p>With the operating system updated and the MariaDB repository configured, you are now ready to install the MariaDB server and client packages. This will provide the necessary components to run and manage your database.</p> <p>To install the MariaDB server and client, execute the following command:</p> <pre><code>RedHat\n# dnf install MariaDB-server MariaDB-client\n\nUbuntu\nsudo apt-get install mariadb-server\n</code></pre> <p>This command will download and install both the server and client packages, enabling you to set up, configure, and interact with your MariaDB database. Once the installation is complete, you can proceed to start and configure the MariaDB service.</p> <p>Now that MariaDB is installed, we need to enable the service to start automatically upon boot and start it immediately. Use the following command to accomplish this:</p> <pre><code>RedHat\n# systemctl enable mariadb --now\n</code></pre> <p>This command will both enable and start the MariaDB service. Once the service is running, you can verify that the installation was successful by checking the version of MariaDB using the following command:</p> <pre><code>RedHat and Ubuntu\n# mariadb -V\n</code></pre> <p>The expected output should resemble this:</p> <pre><code>mariadb from 11.4.5-MariaDB, client 15.2 for Linux (aarch64) using  EditLine wrapper\n</code></pre> <p>To ensure that the MariaDB service is running properly, you can check its status with the following command:</p> <pre><code>RedHat and Ubuntu\n# systemctl status mariadb\n</code></pre> <p>You should see an output similar to this, indicating that the MariaDB service is active and running:</p> <pre><code>mariadb.service - MariaDB 11.4.5 database server\n     Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; preset: disabled)\n    Drop-In: /etc/systemd/system/mariadb.service.d\n             \u2514\u2500migrated-from-my.cnf-settings.conf\n     Active: active (running) since Fri 2025-02-21 11:22:59 CET; 2min 8s ago\n       Docs: man:mariadbd(8)\n             https://mariadb.com/kb/en/library/systemd/\n    Process: 23147 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)\n    Process: 23148 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`/usr/bin/galera_recovery`; [ $? -eq 0 ]   &amp;&amp; systemctl set-enviro&gt;\n    Process: 23168 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)\n   Main PID: 23156 (mariadbd)\n     Status: \"Taking your SQL requests now...\"\n      Tasks: 7 (limit: 30620)\n     Memory: 281.7M\n        CPU: 319ms\n     CGroup: /system.slice/mariadb.service\n             \u2514\u250023156 /usr/sbin/mariadbd\n\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Plugin 'FEEDBACK' is disabled.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Plugin 'wsrep-provider' is disabled.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] InnoDB: Buffer pool(s) load completed at 250221 11:22:58\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Server socket created on IP: '0.0.0.0'.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Server socket created on IP: '::'.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] mariadbd: Event Scheduler: Loaded 0 events\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] /usr/sbin/mariadbd: ready for connections.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: Version: '11.4.5-MariaDB'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MariaDB Server\nFeb 21 11:22:59 localhost.localdomain systemd[1]: Started MariaDB 11.4.5 database server.\n</code></pre> <p>This confirms that your MariaDB server is up and running, ready for further configuration.</p>"},{"location":"ch1-zabbix-components/basic-installation/#securing-the-mariadb-database","title":"Securing the MariaDB Database","text":"<p>To enhance the security of your MariaDB server, it's essential to remove unnecessary test databases, anonymous users, and set a root password. This can be done using the mariadb-secure-installation script, which provides a step-by-step guide to securing your database.</p> <p>Run the following command:</p> <pre><code>RedHat and Ubuntu\n# sudo mariadb-secure-installation\n</code></pre> <pre><code>NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user. If you've just installed MariaDB, and\nhaven't set the root password yet, you should just press enter here.\n\nEnter current password for root (enter for none):\nOK, successfully used password, moving on...\n\nSetting the root password or using the unix_socket ensures that nobody\ncan log into the MariaDB root user without the proper authorisation.\n\nYou already have your root account protected, so you can safely answer 'n'.\n\nSwitch to unix_socket authentication [Y/n] n\n ... skipping.\n\nYou already have your root account protected, so you can safely answer 'n'.\n\nChange the root password? [Y/n] y\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] y\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] y\n ... Success!\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] y\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] y\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n</code></pre> <p>The mariadb-secure-installation script will guide you through several key steps:</p> <ol> <li>Set a root password if one isn't already set.</li> <li>Remove anonymous users.</li> <li>Disallow remote root logins.</li> <li>Remove the test database.</li> <li>Reload the privilege tables to ensure the changes take effect.</li> </ol> <p>Once complete, your MariaDB instance will be significantly more secure. You are now ready to configure the database for Zabbix.</p>"},{"location":"ch1-zabbix-components/basic-installation/#create-the-zabbix-database","title":"Create the Zabbix database","text":"<p>With MariaDB now set up and secured, we can move on to creating the database for Zabbix. This database will store all the necessary data related to your Zabbix server, including configuration information and monitoring data.</p> <p>Follow these steps to create the Zabbix database:</p> <p>Log in to the MariaDB shell as the root user: You'll be prompted to enter the root password that you set during the mariadb-secure-installation process.</p> <pre><code>RedHat and Ubuntu\n# mariadb -uroot -p\n</code></pre> <p>Once you're logged into the MariaDB shell, run the following command to create a database for Zabbix:</p> <pre><code>MariaDB [(none)]&gt; CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;\n</code></pre> Note <p>utf8mb4 is a proper implementation of UTF-8 in MySQL/MariaDB, supporting all Unicode characters, including emojis. The older utf8 charset in MySQL/MariaDB only supports up to three bytes per character and is not a true UTF-8 implementation, which is why utf8mb4 is recommended.</p> <p>This command creates a new database named zabbix with the UTF-8 character set, which is required for Zabbix.</p> <p>Create a dedicated user for Zabbix and grant the necessary privileges: Next, you need to create a user that Zabbix will use to access the database. Replace password with a strong password of your choice.</p> <pre><code>MariaDB [(none)]&gt; CREATE USER 'zabbix-web'@'&lt;zabbix server ip&gt;' IDENTIFIED BY '&lt;password&gt;';\nMariaDB [(none)]&gt; CREATE USER 'zabbix-srv'@'&lt;zabbix server ip&gt;' IDENTIFIED BY '&lt;password&gt;';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON zabbix.* TO 'zabbix-srv'@'&lt;zabbix server ip&gt;';\nMariaDB [(none)]&gt; GRANT SELECT, UPDATE, DELETE, INSERT ON zabbix.* TO 'zabbix-web'@'&lt;zabbix server ip&gt;';\nMariaDB [(none)]&gt; FLUSH PRIVILEGES;\n</code></pre> <p>This creates new users for zabbix-web and zabbix-srv, grants them access to the zabbix database, and ensures that the privileges are applied immediately.</p> <p>In some cases, especially when setting up Zabbix with MariaDB, you might encounter issues related to stored functions and triggers if binary logging is enabled. To address this, you need to set the log_bin_trust_function_creators option to 1 in the MariaDB configuration file. This allows non-root users to create stored functions and triggers without requiring SUPER privileges, which are restricted when binary logging is enabled.</p> <pre><code>MariaDB [(none)]&gt; SET GLOBAL log_bin_trust_function_creators = 1;\nMariaDB [(none)]&gt; QUIT\n</code></pre> <p>At this point, your Zabbix database is ready, and you can proceed with configuring the Zabbix server to connect to the database.</p> Warning <p>In the Zabbix documentation, it is explicitly stated that deterministic triggers need to be created during the schema import. On MySQL and MariaDB systems, this requires setting GLOBAL log_bin_trust_function_creators = 1 if binary logging is enabled, and you lack superuser privileges.</p> <p>If the log_bin_trust_function_creators option is not set in the MySQL configuration file, it will block the creation of these triggers during schema import. This is essential because, without superuser access, non-root users cannot create triggers or stored functions unless this setting is applied.</p> <p>To summarize:</p> <ul> <li> <p>Binary logging enabled: If binary logging is enabled and the user does not   have superuser privileges, the creation of necessary Zabbix triggers will   fail unless log_bin_trust_function_creators = 1 is set.</p> </li> <li> <p>Solution: Add log_bin_trust_function_creators = 1 to the [mysqld] section   in your MySQL/MariaDB configuration file or temporarily set it at runtime   with SET GLOBAL log_bin_trust_function_creators = 1 if you have sufficient   permissions.</p> </li> </ul> <p>This ensures that Zabbix can successfully create the required triggers during schema import without encountering privilege-related errors.</p>"},{"location":"ch1-zabbix-components/basic-installation/#installing-the-postgresql-database","title":"Installing the PostgreSQL database","text":"<p>For our DB setup with PostgreSQL we need to add our PostgreSQL repository first to the system. As of writing PostgreSQL 13-17 are supported but best is to have a look before you install it as new versions may be supported and older maybe unsupported both by Zabbix and PostgreSQL. Usually it's a good idea to go with the latest version that is supported by Zabbix. Zabbix also supports the extension TimescaleDB this is something we will talk later about. As you will see the setup from PostgreSQL is very different from MySQL not only the installation but also securing the DB.</p> <p>The table of compatibility can be found https://docs.timescale.com/self-hosted/latest/upgrades/upgrade-pg/</p>"},{"location":"ch1-zabbix-components/basic-installation/#add-the-postgresql-repository","title":"Add the PostgreSQL repository","text":"<p>So let us start first setting up our PostgreSQL repository with the following commands.</p> <pre><code>RedHat\n\n# Install the repository RPM:\nsudo dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-9-x86_64/pgdg-redhat-repo-latest.noarch.rpm\n\n# Disable the built-in PostgreSQL module:\nsudo dnf -qy module disable postgresql\n\n# Install PostgreSQL:\nsudo dnf install -y postgresql17-server\n\n# Initialize the database and enable automatic start:\nsudo /usr/pgsql-17/bin/postgresql-17-setup initdb\nsudo systemctl enable postgresql-17 --now\n\nUbuntu\n\ntodo\n</code></pre>"},{"location":"ch1-zabbix-components/basic-installation/#securing-the-postgresql-database","title":"Securing the PostgreSQL database","text":"<p>PostgreSQL handles access permissions differently from MySQL and MariaDB. PostgreSQL relies on a file called pg_hba.conf to manage who can access the database, from where, and what encryption method is used for authentication.</p> Note <p>Client authentication in PostgreSQL is configured through the pg_hba.conf file, where \"HBA\" stands for Host-Based Authentication. This file specifies which users can access the database, from which hosts, and how they are authenticated. For further details, you can refer to the official PostgreSQL documentation.\" https://www.postgresql.org/docs/current/auth-pg-hba-conf.html</p> <p>Add the following lines, the order here is important.</p> <pre><code>Redhat\n\n# vi /var/lib/pgsql/17/data/pg_hba.conf\n\nUbuntu\n\nTodo\n</code></pre> <p>The result should look like : </p> <pre><code># \"local\" is for Unix domain socket connections only\nlocal    zabbix     zabbix-srv                                                              scram-sha-256\nlocal    all            all                                                                            peer\n# IPv4 local connections\nhost     zabbix     zabbix-srv          &lt;ip from zabbix server/24&gt;     scram-sha-256\nhost     zabbix     zabbix-web        &lt;ip from zabbix server/24&gt;     scram-sha-256\nhost     all            all                         127.0.0.1/32                            scram-sha-256\n</code></pre> <p>After we changed the pg_hba file don't forget to restart postgres else the settings will not be applied. But before we restart let us also edit the file postgresql.conf and allow our database to listen on our network interface for incoming connections from the zabbix server. Postgresql will standard only allow connections from the socket.</p> <pre><code>RedHat\n# vi /var/lib/pgsql/17/data/postgresql.conf\n\nUbuntu\n\ntodo\n</code></pre> <p>To configure PostgreSQL to listen on all network interfaces, you need to modify the <code>postgresql.conf</code> file. Locate the following line:</p> <pre><code>#listen_addresses = 'localhost'\n</code></pre> <p>and replace it with:</p> <pre><code>listen_addresses = '*'\n</code></pre> <p>This will enable PostgreSQL to accept connections from any network interface, not just the local machine. After making this change, restart the PostgreSQL service to apply the new settings:</p> <pre><code>Redhat\n# systemctl restart postgresql-17\n\nUbuntu\n\ntodo\n</code></pre> <p>If the service fails to restart, review the pg_hba.conf file for any syntax errors, as incorrect entries here may prevent PostgreSQL from starting.</p> <p>Next, to prepare your PostgreSQL instance for Zabbix, you'll need to create the necessary database tables. Begin by installing the Zabbix repository, as you did for the Zabbix server. Then, install the appropriate Zabbix package that contains the predefined tables, images, icons, and other database elements needed for the Zabbix application.</p>"},{"location":"ch1-zabbix-components/basic-installation/#add-the-zabbix-repository-and-populate-the-pgsql-db","title":"Add the Zabbix repository and populate the PgSQL DB","text":"<p>To begin, add the Zabbix repository to your system by running the following commands:</p> <pre><code>RedHat\n# dnf install https://repo.zabbix.com/zabbix/7.2/release/rocky/9/noarch/zabbix-release-latest-7.2.el9.noarch.rpm -y\n# dnf install zabbix-sql-scripts -y \n\nUbuntu\n\ntodo\n</code></pre> <p>With the necessary packages installed, you are now ready to create the Zabbix users for both the server and frontend.</p> <p>First, switch to the <code>postgres</code> user and create the Zabbix server database user:</p> <pre><code># su - postgres\n# createuser --pwprompt zabbix-srv\nEnter password for new role: &lt;server-password&gt;\nEnter it again: &lt;server-password&gt;\n</code></pre> <p>Next, create the Zabbix frontend user, which will be used to connect to the database:</p> <pre><code># createuser --pwprompt zabbix-web\nEnter password for new role: &lt;frontend-password&gt;\nEnter it again: &lt;frontend-password&gt;\n</code></pre> <p>After creating the users, you need to prepare the database schema. As the root user, unzip the necessary schema files by running the following command:</p> <pre><code>RedHat\n# gzip -d /usr/share/zabbix/sql-scripts/postgresql/server.sql.gz\n\nUbuntu\n\ntodo\n</code></pre> Note <p>Zabbix seems to like to change the locations of the script to populate the DB every version or in between versions. If you encounter an error take a look at the Zabbix documentation there is a good chance that some location was changed.</p> <p>This will extract the database schema required for the Zabbix server.</p> <p>Now that the users are created, the next step is to create the Zabbix database.  First, switch to the <code>postgres</code> user and execute the following command to create the database with the owner set to zabbix-srv:</p> <pre><code>RedHat\n# su - postgres\n# createdb -E Unicode -O zabbix-srv zabbix\n# exit\n\nUbuntu\n\nTodo\n</code></pre> <p>Once the database is created, you should verify the connection and ensure that the correct user session is active. To do this, log into the zabbix database using the zabbix-srv user:</p> <pre><code># psql -d zabbix -U zabbix-srv\n</code></pre> <p>After logging in, run the following SQL query to confirm that both the <code>session_user</code> and <code>current_user</code> are set to <code>zabbix-srv</code>:</p> <pre><code>zabbix=&gt; SELECT session_user, current_user;\n session_user | current_user\n--------------+--------------\n zabbix-srv   | zabbix-srv\n(1 row)\n</code></pre> <p>If the output matches, you are successfully connected to the database with the correct user.</p> <p>PostgreSQL indeed differs significantly from MySQL or MariaDB in several aspects, and one of the key features that sets it apart is its use of schemas. Unlike MySQL, where databases are more standalone, PostgreSQL's schema system provides a structured, multi-user environment within a single database.</p> <p>Schemas act as logical containers within a database, enabling multiple users or applications to access and manage data independently without conflicts. This feature is especially valuable in environments where several users or applications need to interact with the same database concurrently. Each user or application can have its own schema, preventing accidental interference with each other\u2019s data.</p> Note <p>PostgreSQL comes with a default schema, typically called public, but it's in general best practice to create custom schemas to better organize and separate database objects, especially in complex or multi-user environments.</p> <p>For more in-depth information, I recommend checking out the detailed guide at this URI, https://hevodata.com/learn/postgresql-schema/#schema which explains the benefits and use cases for schemas in PostgreSQL.</p> <p>To finalize the database setup for Zabbix, we need to configure schema permissions for both the <code>zabbix-srv</code> and <code>zabbix-web</code> users.</p> <p>First, we create a custom schema named <code>zabbix_server</code> and assign ownership to the <code>zabbix-srv</code> user:</p> <pre><code>zabbix=&gt; CREATE SCHEMA zabbix_server AUTHORIZATION \"zabbix-srv\";\nCREATE SCHEMA\n</code></pre> <p>Next, we set the <code>search path</code> to <code>zabbix_server</code> schema so that it's the default for the current session:</p> <pre><code>zabbix=&gt; SET search_path TO \"zabbix_server\";\n</code></pre> <p>To confirm the schema setup, you can list the existing schemas:</p> <pre><code>zabbix=&gt; \\dn\n          List of schemas\n     Name      |       Owner\n---------------+-------------------\n public        | pg_database_owner\n zabbix_server | zabbix-srv\n(2 rows)\n</code></pre> <p>At this point, the <code>zabbix-srv</code> user has full access to the schema, but the <code>zabbix-web</code> user still needs appropriate permissions to connect and interact with the database. First, we grant <code>USAGE</code> privileges on the schema to allow <code>zabbix-web</code> to connect:</p> <pre><code>zabbix=# GRANT USAGE ON SCHEMA zabbix_server TO \"zabbix-web\";\nGRANT\n</code></pre> <p>However, <code>zabbix-web</code> still cannot perform any operations on the tables or sequences. To allow basic data interaction without giving too many privileges, grant the following permissions:</p> <ul> <li>For tables: SELECT, INSERT, UPDATE, and DELETE.</li> <li>For sequences: SELECT and UPDATE.</li> </ul> <pre><code>zabbix=# GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA zabbix_server TO \"zabbix-web\";\ngrant\n</code></pre> <pre><code>zabbix=# GRANT SELECT, UPDATE ON ALL SEQUENCES IN SCHEMA zabbix_server TO \"zabbix-web\";\nGRANT\n</code></pre> <p>Now, the <code>zabbix-web</code> user has appropriate access to interact with the schema while maintaining security by limiting permissions to essential operations.</p> <p>With the users and permissions set up correctly, you can now populate the database with the Zabbix schema created and other required elements. Follow these steps:</p> <ul> <li>Execute the SQL file to populate the database. Run the following command in the <code>psql</code> shell:</li> </ul> Warning <p>Make sure you did previous steps carefully so that you have selected the correct search_path.</p> <pre><code>sql zabbix=# \\i /usr/share/zabbix/sql-scripts/postgresql/server.sql\n</code></pre> Warning <p>Depending on your hardware or VM performance, this process can take anywhere from a few seconds to several minutes. Please be patient and avoid cancelling the operation.</p> <ul> <li>Monitor the progress as the script runs. You will see output similar to:</li> </ul> <pre><code>zabbix=&gt; \\i /usr/share/zabbix/sql-scripts/postgresql/server.sql\nCREATE TABLE\nCREATE INDEX\nCREATE TABLE\nCREATE INDEX\nCREATE TABLE\n...\n...\n...\nINSERT 0 10444\nDELETE 90352\nCOMMIT\n</code></pre> <p>Once the script completes and you return to the <code>zabbix=#</code> prompt, the database should be successfully populated with all the required tables, schemas, images, and other elements needed for Zabbix.</p> Note <p>If you encounter the following error during the SQL import:  <code>vbnet psql:/usr/share/zabbix/sql-scripts/postgresql/server.sql:7: ERROR: no schema has been selected to create in</code> It indicates that the search_path setting might not have been correctly applied. This setting is crucial because it specifies the schema where the tables and other objects should be created. By correctly setting the search path, you ensure that the SQL script will create tables and other objects in the intended schema.</p> <p>To ensure that the Zabbix tables were created successfully and have the correct permissions, you can verify the table list and their ownership using the <code>psql</code> command:</p> <ul> <li>List the Tables: Use the following command to list all tables in the <code>zabbix_server</code> schema:</li> </ul> <pre><code>sql zabbix=# \\dt\n</code></pre> <p>You should see a list of tables with their schema, name, type, and owner. For example:</p> <pre><code>zabbix=&gt; \\dt\n                        List of relations\n    Schema     |            Name            | Type  |   Owner\n---------------+----------------------------+-------+------------\n zabbix_server | acknowledges               | table | zabbix-srv\n zabbix_server | actions                    | table | zabbix-srv\n zabbix_server | alerts                     | table | zabbix-srv\n zabbix_server | auditlog                   | table | zabbix-srv\n zabbix_server | autoreg_host               | table | zabbix-srv\n zabbix_server | changelog                  | table | zabbix-srv\n zabbix_server | conditions                 | table | zabbix-srv\n...\n...\n...\n zabbix_server | valuemap                   | table | zabbix-srv\n zabbix_server | valuemap_mapping           | table | zabbix-srv\n zabbix_server | widget                     | table | zabbix-srv\n zabbix_server | widget_field               | table | zabbix-srv\n(203 rows)\n</code></pre> <ul> <li>Verify Permissions: Confirm that the zabbix-srv user owns the tables and has the necessary permissions. You can check permissions for specific tables using the \\dp command:</li> </ul> <pre><code>sql zabbix=# \\dp zabbix_server.*\n</code></pre> <p>This will display the access privileges for all tables in the <code>zabbix_server</code> schema. Ensure that <code>zabbix-srv</code> has the required privileges.</p> <p>If everything looks correct, your tables are properly created and the <code>zabbix-srv</code> user has the appropriate ownership and permissions. If you need to adjust any permissions, you can do so using the GRANT commands as needed.</p> Note <p>If you prefer not to set the search path manually each time you log in as the <code>zabbix-srv</code> user, you can configure PostgreSQL to automatically use the desired search path. Run the following SQL command to set the default search path for the <code>zabbix-srv</code> role:</p> <p>sql zabbix=&gt; ALTER ROLE \"zabbix-srv\" SET search_path = \"$user\", public, zabbix_server;</p> <p>This command ensures that every time the <code>zabbix-srv</code> user connects to the database, the <code>search_path</code> is automatically set to include <code>$user</code>, <code>public</code>, and <code>zabbix_server</code>.</p> <p>If you are ready you can exit the database and return as user root.</p> <pre><code>zabbix=&gt; \\q\n</code></pre>"},{"location":"ch1-zabbix-components/basic-installation/#installing-the-zabbix-server","title":"Installing the Zabbix server","text":""},{"location":"ch1-zabbix-components/basic-installation/#installing-the-frontend","title":"Installing the frontend","text":""},{"location":"ch1-zabbix-components/chapter/","title":"Zabbix components, basic functions and installation","text":"<p>In this chapter, we expand on the foundational knowledge from the \"Getting Started\" section to provide a comprehensive guide for both beginners who are installing Zabbix for the first time and advanced users who seek to optimize their setup. We\u2019ll not only cover the essential steps for a basic installation but also delve into the finer details of Zabbix architecture, components, and best practices.</p> <p>We\u2019ll start by walking through the installation process, ensuring you have a solid foundation to build on. From there, we'll move into the core components of Zabbix, what each one does, how they interact, and why they are crucial to your monitoring solution. You'll learn about subprocesses, their roles, and how they contribute to Zabbix efficiency and reliability.</p> <p>Additionally, we\u2019ll explore good architectural choices that can make or break your monitoring setup. Whether you're managing a small network or a large-scale infrastructure, making the right design decisions early on will pay dividends in scalability, performance, and maintenance.</p> <p>This chapter is designed to cater to a wide range of readers. If you're simply looking to get Zabbix up and running, you'll find clear, step-by-step instructions. For those wanting to dive deeper, we'll provide detailed insights into how Zabbix functions under the hood, helping you make informed choices that align with your needs and future growth plans.</p> <p>By the end of this chapter, you will have not only a working Zabbix installation but also a thorough understanding of its components and architecture, empowering you to leverage Zabbix to its fullest potential, regardless of the complexity of your environment.</p> <p>Let\u2019s embark on this detailed journey into Zabbix and equip ourselves with the knowledge to both start and optimize a powerful monitoring solution.</p>"},{"location":"ch1-zabbix-components/ha-setup/","title":"HA Setup","text":""},{"location":"ch10-zabbix-discovery/chapter/","title":"Automating Your Monitoring with Auto Discovery and Active Agent Auto Registration","text":"<p>In this chapter, we'll explore two powerful automation features in Zabbix: auto discovery and active agent auto-registration. These tools are essential for scaling your monitoring efforts by minimizing manual configuration and ensuring new devices and services are seamlessly integrated into your Zabbix environment.</p> <p>We'll begin with auto discovery, which enables Zabbix to automatically detect and monitor new hosts and services within your network. You'll learn how to configure discovery rules, actions, and conditions to automate the onboarding process, making your monitoring more dynamic and adaptive to changes in your infrastructure.</p> <p>Next, we'll dive into active agent auto registration, which simplifies the management of Zabbix agents, especially in large or rapidly changing environments. We'll cover how to set up auto-registration rules that allow agents to register themselves with the Zabbix server, reducing administrative overhead and ensuring all relevant data is captured efficiently.</p> <p>By the end of this chapter, you'll have a thorough understanding of how to leverage auto-discovery and auto-registration to create a more automated, scalable, and efficient monitoring system.</p>"},{"location":"ch11-zabbix-visualisation/chapter/","title":"Graphs, Dashboards, Reports, Maps and other visualisation","text":"<p>In this chapter, we delve into the heart of Zabbix's visualization capabilities, where data comes to life through intuitive and powerful visual tools. From dynamic graphs that track your system's performance to comprehensive dashboards that provide at-a-glance insights, Zabbix offers a rich set of visualization features to help you understand and manage your infrastructure.</p> <p>We'll start by exploring graphs, which allow you to monitor metrics over time, helping you spot trends and anomalies with ease. Next, we'll move on to dashboards, where you can aggregate multiple widgets into a single view for a more holistic understanding of your network's health.</p> <p>Then, we'll discuss reports an essential feature for summarizing and sharing insights with your team or stakeholders. Finally, we'll cover maps, a unique visualization tool that lets you create interactive representations of your network topology, making it easier to pinpoint issues and understand relationships between different components.</p> <p>By the end of this chapter, you'll have a comprehensive understanding of how to leverage Zabbix's visualization tools to monitor, analyse, and communicate the state of your IT environment effectively.  Whether you're a seasoned administrator or just starting with Zabbix, mastering these visual tools will enhance your ability to manage complex infrastructures and ensure optimal performance.</p> <p>Let's dive into the world of Zabbix visualizations and unlock the full potential of your monitoring setup.</p>"},{"location":"ch12-zabbix-api/chapter/","title":"Zabbix API","text":"<p>The Zabbix API is a crucial part for anyone looking to expand the capabilities of their Zabbix environment, automate time-consuming tasks and get information for usage in other systems. In this chapter we will go over various of these capabilities to expand our knowledge of the Zabbix API.</p>"},{"location":"ch13-zabbix-real-world-examples/chapter/","title":"Zabbix real world examples","text":"<p>In this book we have learned a lot about our Zabbix environment, but most of it is building the foundation to start doing it on your own. From time to time you will encounter an implementation in a Zabbix environment that uses out of the box thinking or is just so simple you can't believe you never thought of it.</p> <p>This chapter aims to provide you a collection of interesting things people have built and things you absolutely have to know exist. </p>"},{"location":"ch2-zabbix-installation/chapter/","title":"Getting started with the Zabbix installation","text":"<p>We begin this chapter with a deep dive into the Zabbix frontend, the central hub where all monitoring and configuration tasks come together. Alongside the basic introduction to navigating the frontend, this chapter also covers user and group setup, focusing on creating a secure and efficient user management system.</p> <p>We'll walk through setting up internal authentication with best practices for security, including dual-factor authentication. For those needing advanced integration, we'll explore options like SAML, LDAP, and other external authentication methods.</p> <p>This chapter strikes a balance between a straightforward overview \u201cthis is the frontend\u201d and a more in depth look at the advanced choices you can make to enhance your system's security and manageability. Whether you're just getting started or looking to implement robust security measures, there's something here for everyone.</p> <p>By the end, you'll be well equipped to navigate the Zabbix frontend with confidence and set up a secure, scalable user management system tailored to your organization's needs.</p>"},{"location":"ch2-zabbix-installation/external-authentication/","title":"External authentication","text":""},{"location":"ch2-zabbix-installation/external-authentication/#http","title":"HTTP","text":""},{"location":"ch2-zabbix-installation/external-authentication/#ldap-ad","title":"LDAP / AD","text":""},{"location":"ch2-zabbix-installation/external-authentication/#saml","title":"SAML","text":""},{"location":"ch2-zabbix-installation/external-authentication/#google","title":"Google","text":""},{"location":"ch2-zabbix-installation/external-authentication/#ms-cloud","title":"MS Cloud","text":""},{"location":"ch2-zabbix-installation/external-authentication/#okta","title":"Okta","text":""},{"location":"ch2-zabbix-installation/frontend/","title":"Frontend explained","text":""},{"location":"ch2-zabbix-installation/host-groups/","title":"Host groups","text":""},{"location":"ch2-zabbix-installation/user-groups/","title":"User groups","text":""},{"location":"ch3-zabbix-proxies/active-proxies/","title":"Active proxies","text":""},{"location":"ch3-zabbix-proxies/chapter/","title":"Proxies and the Web services component","text":"<p>Proxies are often regarded as an advanced topic in Zabbix, but in reality, they are a fundamental part of many installations and one of the first components we set up for numerous customers. In this chapter, we'll make proxies the third subject we cover, encouraging you to consider them from the very beginning of your Zabbix journey.</p> <p>We'll start with a basic proxy setup, providing straightforward steps to get you up and running quickly. Then, we'll take a deep dive into the mechanics of proxies how they operate within the Zabbix ecosystem, their benefits, and the critical role they play in distributing monitoring load and enhancing system scalability.</p> <p>Understanding proxies from the start can significantly improve your architecture, especially in distributed or large scale environments. Whether you're new to Zabbix or looking to refine your existing setup, this chapter will offer valuable insights into why proxies should be an integral part of your monitoring strategy from the start.</p> <p>By the end, you'll not only know how to set up a basic proxy but also have a clear understanding of their underlying workings and strategic advantages, ensuring you make informed decisions as you scale your Zabbix installation.</p>"},{"location":"ch3-zabbix-proxies/passive-proxies/","title":"Passive Proxies","text":""},{"location":"ch3-zabbix-proxies/web-services/","title":"Web services","text":""},{"location":"ch4-zabbix-collecting-data/chapter/","title":"Collecting data with your Zabbix environment","text":"<p>In this chapter, we'll take a detailed journey through Zabbix data flow, showing how to progress from an empty setup to a fully functioning system capable of sending timely notifications. We\u2019ll break down each step, giving you a clear understanding of how data moves through Zabbix.</p> <p>We'll then explore the various protocols used in Zabbix, how they function, their compatibility with different components, and how to configure them effectively. This will provide you with a comprehensive overview of the communication backbone that powers Zabbix monitoring capabilities.</p> <p>Next, we'll cover the essentials like hosts, host groups, host interfaces, and items, ensuring you understand their roles and how to set them up correctly. </p> <p>For now, we'll hold off on custom scripts and external check items, focusing instead on the core elements. When we touch on active agents, we'll reference the chapter on auto-registration, guiding you to more detailed discussions on that topic later.</p> <p>By the end of this chapter, you'll have a strong grasp of Zabbix data flow and the protocols that enable seamless monitoring and notifications, preparing you for more advanced configurations and integrations.</p>"},{"location":"ch4-zabbix-collecting-data/dataflow/","title":"Dataflow","text":""},{"location":"ch4-zabbix-collecting-data/hosts/","title":"Hosts","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#host-interfaces","title":"Host Interfaces","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#zbx","title":"ZBX","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#snmp","title":"SNMP","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#ipmi","title":"IPMI","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#jmx","title":"JMX","text":""},{"location":"ch4-zabbix-collecting-data/protocols/","title":"Protocols","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-agent","title":"Zabbix Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-agent-active","title":"Zabbix Agent (Active)","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#simple-check","title":"Simple check","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#snmp-agent","title":"SNMP Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#snmp-trap","title":"SNMP trap","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-internal","title":"Zabbix Internal","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-trapper","title":"Zabbix trapper","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#external-check","title":"External check","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#database-monitor","title":"Database monitor","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#http-agent","title":"HTTP Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#ipmi-agent","title":"IPMI Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#ssh-telnet-agent","title":"SSH / Telnet Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#jmx-agent","title":"JMX Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#calculated","title":"Calculated","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#dependent-item","title":"Dependent item","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#script","title":"Script","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#browser","title":"Browser","text":""},{"location":"ch5-zabbix-triggers/advanced-triggers/","title":"Advanced triggers","text":""},{"location":"ch5-zabbix-triggers/chapter/","title":"Setting up triggers","text":"<p>In this chapter, we'll explore triggers in depth, starting with the basics of setting up step triggers and progressively moving into advanced trigger configurations. You'll gain a thorough understanding of how triggers work, ensuring you can leverage them effectively to monitor your infrastructure.</p> <p>We'll take a deep dive into the mechanics of triggers, examining how they evaluate conditions and generate alerts. This section will also address the important topic of monitoring and alerting fatigue, providing strategies to fine-tune your triggers to reduce unnecessary alerts while maintaining optimal system oversight.</p> <p>By the end, you'll have the knowledge to set up both simple and complex triggers, helping you maintain a well balanced monitoring system that minimizes noise and focuses on what truly matters.</p>"},{"location":"ch5-zabbix-triggers/triggers/","title":"Triggers","text":""},{"location":"ch6-zabbix-templates/chapter/","title":"Building and using templates","text":"<p>A great way to guide users towards a deeper understanding of Zabbix is by initially holding off on templates and gradually introducing them much like in formal training. In this chapter, we'll start by explaining the basic usage of default templates and how to find new ones, helping you get up and running with minimal effort.</p> <p>Once you're comfortable with default templates, we\u2019ll dive into building your own templates, offering detailed instructions on customization and best practices. We\u2019ll also cover how to share your templates within the Zabbix community, fostering collaboration and knowledge exchange.</p> <p>To round off, we'll feature Tags and Macros, explaining their roles within templates and why they're most effective when understood in the context of template usage. This structured approach will ensure you grasp the full potential of templates and their associated features in Zabbix.</p> <p>By the end of this chapter, you'll be well versed in both using and creating templates, equipped to enhance your monitoring setup and contribute to the broader Zabbix ecosystem.</p>"},{"location":"ch7-zabbix-alerts/chapter/","title":"Sending out alerts with Zabbix","text":"<p>After delving into templates, it's time to return to the data flow and bring everything together by exploring integrations with powerful external services. In this chapter, we\u2019ll complete the data flow journey, showing how to extend Zabbix capabilities through seamless connections with third-party tools and platforms.</p> <p>We'll guide you through setting up integrations that enhance your monitoring system, covering various use cases from alerting to data visualization and automation. By integrating Zabbix with external services, you'll unlock new levels of functionality, making your monitoring setup more dynamic and adaptable.</p> <p>By the end, you'll have a well-rounded understanding of how to fully utilize Zabbix data flow, augmented by strategic integrations that add value to your infrastructure management.</p>"},{"location":"ch8-zabbix-lld/chapter/","title":"Using Low level discovery to automate","text":"<p>In this chapter, we'll dive into Low-Level Discovery (LLD), covering everything there is to know about this powerful feature in Zabbix. LLD automates the creation of hosts, items, triggers, and more, simplifying the management of large and dynamic environments.</p> <p>We'll also explain how to work with custom JSON in the context of LLD, showing you how to tailor discovery rules to fit your unique needs. By mastering these techniques, you'll be able to create highly adaptable monitoring setups that respond to changes in your infrastructure with minimal manual intervention.</p> <p>By the end of this chapter, you'll have a deep understanding of LLD, from basic concepts to advanced customization, enabling you to leverage its full potential in your Zabbix deployment.</p>"},{"location":"ch9-zabbix-extending/chapter/","title":"Leveraging custom items for extending the Zabbix environment","text":"<p>In this chapter, we'll take a deep dive into extending Zabbix functionality beyond its default item options. We'll cover the script item, external checks, remote commands, user parameters, and other advanced features that allow you to customize and expand your monitoring capabilities.</p> <p>You'll learn how to use these tools to integrate custom logic, monitor external applications, and automate tasks, making Zabbix an even more powerful and flexible solution tailored to your specific needs. </p> <p>By the end, you'll have the skills to push Zabbix beyond its default configuration, unlocking new possibilities for complex and unique monitoring scenarios.</p>"},{"location":"fr/","title":"About French","text":""},{"location":"fr/ch1-zabbix-components/chapter/","title":"French ch1 index","text":""},{"location":"fr/ch3-zabbix-proxies/chapter/","title":"proxies","text":""},{"location":"de/","title":"Welcome","text":"<p>About German</p>"},{"location":"de/ch1-zabbix-components/chapter/","title":"About us German","text":""},{"location":"de/ch3-zabbix-proxies/chapter/","title":"proxies","text":""},{"location":"it/","title":"Welcome Italian","text":""},{"location":"it/ch1-zabbix-components/chapter/","title":"About Us Italian","text":""},{"location":"it/ch3-zabbix-proxies/chapter/","title":"proxies","text":""},{"location":"nl/","title":"Welcome","text":""},{"location":"nl/ch1-zabbix-components/chapter/","title":"Zabbix-componenten, basisfuncties en installatie","text":"<p>In dit hoofdstuk breiden we de basiskennis uit het gedeelte 'Aan de slag' uit om een uitgebreide gids te bieden voor zowel beginners die Zabbix voor het eerst installeren als gevorderde gebruikers die hun installatie willen optimaliseren. We behandelen niet alleen de essenti\u00eble stappen voor een basisinstallatie, maar duiken ook in de fijnere details van de architectuur, componenten en best practices van Zabbix.</p> <p>We beginnen met het doorlopen van het installatieproces, zodat u een solide basis hebt om op voort te bouwen. Vanaf daar gaan we verder met de kerncomponenten van Zabbix, wat elk onderdeel doet, hoe ze met elkaar interacteren en waarom ze cruciaal zijn voor uw monitoringoplossing. U leert over subprocessen, hun rollen en hoe ze bijdragen aan de effici\u00ebntie en betrouwbaarheid van Zabbix.</p> <p>Daarnaast onderzoeken we goede architectuurkeuzes die uw monitoringinstallatie kunnen maken of breken. Of u nu een klein netwerk of een grootschalige infrastructuur beheert, het vroegtijdig nemen van de juiste ontwerpbeslissingen levert dividenden op in schaalbaarheid, prestaties en onderhoud.</p> <p>Dit hoofdstuk is ontworpen om een breed scala aan lezers te bedienen. Als u Zabbix gewoon aan de praat wilt krijgen, vindt u duidelijke, stapsgewijze instructies. Voor degenen die dieper willen duiken, bieden we gedetailleerde inzichten in hoe Zabbix onder de motorkap functioneert, zodat u weloverwogen keuzes kunt maken die aansluiten bij uw behoeften en toekomstige groeiplannen.</p> <p>Aan het einde van dit hoofdstuk hebt u niet alleen een werkende Zabbix-installatie, maar ook een grondig begrip van de componenten en architectuur, waardoor u Zabbix optimaal kunt benutten, ongeacht de complexiteit van uw omgeving.</p> <p>Laten we beginnen aan deze gedetailleerde reis naar Zabbix en onszelf uitrusten met de kennis om zowel een krachtige monitoringoplossing te starten als te optimaliseren.</p>"},{"location":"nl/ch3-zabbix-proxies/chapter/","title":"proxies","text":""},{"location":"pt/","title":"Welcome Portuguese","text":""},{"location":"pt/ch1-zabbix-components/chapter/","title":"Chapter","text":"<p>About Us Portuguese</p>"},{"location":"es/","title":"Welcome Spanish","text":""},{"location":"es/ch1-zabbix-components/chapter/","title":"About Us Spanish","text":""},{"location":"th/","title":"Welcome Thai","text":""},{"location":"th/ch1-zabbix-components/chapter/","title":"About us Thai","text":""},{"location":"zh/","title":"Welcome Chinese","text":""},{"location":"zh/ch1-zabbix-components/chapter/","title":"About Us Chinese","text":""},{"location":"","title":"About page","text":""},{"location":"#license","title":"License","text":"<p>Please before you start take a look at our most updated license : License on Github.</p> <p>The Zabbix Book is a freely accessible resource designed to help users understand and master Zabbix. Contributions are highly encouraged to improve and expand its content. However, the book is distributed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 (CC BY-NC-SA 4.0) license, meaning it is free for non-commercial use only.</p> <p>Contributors should be aware that:</p> <ul> <li>By contributing to this work, you irrevocably assign and transfer all rights, title, and interest in your contributions to The Monitoring Penmasters Foundation, including any associated intellectual property rights, to the fullest extent permitted by law.</li> <li>The Monitoring Penmasters Foundation reserves the right to use, reproduce, modify, distribute, and commercially exploit any contributed material in any form, including but not limited to the publication of physical and digital books.</li> <li>All contributors must sign a Deed of Transfer of Intellectual Property Rights before making any contributions, ensuring the proper transfer of rights and handling of the content by The Monitoring Penmasters Foundation. Any contributions without a signed Deed of Transfer of Intellectual Property Rights cannot be accepted.</li> <li>All profits generated will be used by The Monitoring Penmasters Foundation to cover operational expenses and to sponsor other open-source projects, as determined by the foundation.</li> </ul> <p>Your contributions are invaluable and will help make The Zabbix Book an even greater resource for the entire community!</p> <p>Shield: </p> <p>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</p> <p></p>"},{"location":"Guidelines/","title":"Guidelines","text":""},{"location":"Guidelines/#how-to-contribute","title":"How to contribute","text":"<ul> <li>Clone the repository to you pc</li> <li>Install the needed software for Mkdocs to work, check   how-to-install-mkdocs.md</li> <li>Create a new branch to make your changes<ul> <li>git branch \"&lt;your branch name&gt;\"</li> <li>git checkout \"&lt;your branch name&gt;\"</li> </ul> </li> <li>Make the changes you want and commit them<ul> <li>git add \"files you changed\"</li> <li>git commit -m \"add useful commit info\"</li> </ul> </li> <li>Return back to the main branch<ul> <li>git checkout main</li> </ul> </li> <li>Make sure you have the latest changes merged from main<ul> <li>git pull origin main</li> </ul> </li> <li>Merge your branch into the main branch<ul> <li>git merge \"&lt;your branch name&gt;\"</li> <li>git push</li> </ul> </li> <li>cleanup your branch<ul> <li>git branch -d \"&lt;your branch name&gt;\"</li> </ul> </li> </ul>"},{"location":"ch0-getting-started/Requirements/","title":"System Requirements","text":""},{"location":"ch0-getting-started/Requirements/#requirements","title":"Requirements","text":"<p>Zabbix has specific hardware and software requirements that must be met, and these requirements may change over time. They also depend on the size of your setup and the software stack you select. Before purchasing hardware or installing a database version, it's essential to consult the Zabbix documentation for the most up-to-date requirements for the version you plan to install. You can find the latest requirements https://www.zabbix.com/documentation/current/en/manual/installation/requirements. Make sure to select the correct Zabbix version from the list.</p> <p>For smaller or test setups, Zabbix can comfortably run on a system with 2 CPUs and 8 GB of RAM. However, your setup size, the number of items you monitor, the triggers you create, and how long you plan to retain data will impact resource requirements. In today's virtualised environments, my advice is to start small and scale up as needed.</p> <p>You can install all components (Zabbix server, database, web server) on a single machine or distribute them across multiple servers. For simplicity, take note of the server details:</p> Component IP Address Zabbix Server Database Server Web Server Tip <p>Zabbix package names often use dashes (<code>-</code>) in their names, such as <code>zabbix-get</code> or <code>zabbix-sender</code>, but the binaries themselves may use underscores (<code>_</code>), like <code>zabbix_sender</code> or <code>zabbix_server</code>. This naming discrepancy can sometimes be confusing, particularly if you are using packages from non-official Zabbix repositories. Always check if a binary uses a dash or an underscore when troubleshooting.</p>"},{"location":"ch0-getting-started/Requirements/#basic-os-configuration","title":"Basic OS Configuration","text":"<p>Operating systems, so many choices, each with its own advantages and loyal user base. While Zabbix can be installed on a wide range of platforms, documenting the process for every available OS would be impractical. To keep this book focused and efficient, we have chosen to cover only the most widely used options: Ubuntu and Red Hat based distributions.</p> <p>Since not everyone has access to a Red Hat Enterprise Linux (RHEL) subscription even though a developer account provides limited access we have opted for Rocky Linux as a readily available alternative. For this book, we will be using Rocky Linux 9.x and Ubuntu LTS 24.04.x.</p> <ul> <li>https://rockylinux.org/</li> <li>https://ubuntu.com/</li> </ul>"},{"location":"ch0-getting-started/Requirements/#firewall","title":"Firewall","text":"<p>Before installing Zabbix, it's essential to properly prepare the operating system. The first step is to ensure that the firewall is installed and configured.</p> <p>To install and enable the firewall, run the following command:</p> <pre><code>RedHat\n# dnf install firewalld\n# systemctl enable firewalld --now\n\nUbuntu\n# sudo apt install ufw -y\n# sudo ufw enable\n</code></pre> <p>Once installed, you can configure the necessary ports. For Zabbix, we need to allow access to port <code>10051/tcp</code>, which is where the Zabbix trapper listens for incoming data. Use the following command to open this port in the firewall:</p> <pre><code>RedHat\n# firewall-cmd --add-service=zabbix-server --permanent\n\nUbuntu\n# sudo ufw allow 10051/tcp\n</code></pre> <p>If the service is not recognized, you can manually specify the port:</p> <pre><code># firewall-cmd --add-port=10051/tcp --permanent\n</code></pre> <p>firewalld</p> <p>\"Firewalld is the replacement for iptables in RHEL-based systems and allows changes to take effect immediately without needing to restart the service. If your distribution does not use Firewalld, refer to your OS documentation for the appropriate firewall configuration steps.\" Ubuntu makes use of UFW and is merely a frontend for iptables.</p>"},{"location":"ch0-getting-started/Requirements/#time-server","title":"Time Server","text":"<p>Another crucial step is configuring the time server and syncing the Zabbix server using an NTP client. Accurate time synchronization is vital for Zabbix, both for the server and the devices it monitors. If one of the hosts has an incorrect time zone, it could lead to confusion, such as investigating an issue in Zabbix that appears to have happened hours earlier than it actually did.</p> <p>To install and enable chrony, our NTP client, use the following command:</p> <pre><code>RedHat\n# dnf install chrony\n# systemctl enable chronyd --now\n\nUbuntu\n# sudo apt install chrony -y\n</code></pre> <p>Once installed, you can verify that Chrony is enabled and running by checking its status:</p> <pre><code>RedHat\n# systemctl status chronyd\n</code></pre> <p>dnf</p> <p>\"dnf is a package manager used in Red Hat-based systems. If you're using another distribution, replace <code>dnf</code> with your appropriate package manager, such as <code>zyper</code>, <code>apt</code>, or <code>yum</code>. Chrony is a modern replacement for <code>ntpd</code>, offering faster and more accurate time synchronization. If your OS does not support Chrony, consider using <code>ntpd</code> instead.\"</p> <p>Once Chrony is installed, the next step is to ensure the correct time zone is set. You can view your current time configuration using the <code>timedatectl</code> command:</p> <pre><code># timedatectl\n               Local time: Thu 2023-11-16 15:09:14 UTC\n           Universal time: Thu 2023-11-16 15:09:14 UTC\n                 RTC time: Thu 2023-11-16 15:09:15\n                Time zone: UTC (UTC, +0000)\nSystem clock synchronized: yes\n              NTP service: active\n          RTC in local TZ: no\n</code></pre> <p>Ensure that the Chrony service is active (refer to the previous steps if needed). To set the correct time zone, first, you can list all available time zones with the following command:</p> <pre><code># timedatectl list-timezones\n</code></pre> <p>This will display a list of time zones, from which you can select the one closest to your location, for example:</p> <pre><code>Africa/Abidjan\nAfrica/Accra\n...\nPacific/Tongatapu\nPacific/Wake\nPacific/Wallis\nUTC\n</code></pre> <p>Once you've identified your time zone, configure it using the following command:</p> <pre><code># timedatectl set-timezone Europe/Brussels\n</code></pre> <p>To verify that the time zone has been configured correctly, use the <code>timedatectl</code> command again:</p> <pre><code># timedatectl\n               Local time: Thu 2023-11-16 16:13:35 CET\n           Universal time: Thu 2023-11-16 15:13:35 UTC\n                 RTC time: Thu 2023-11-16 15:13:36\n                Time zone: Europe/Brussels (CET, +0100)\nSystem clock synchronized: yes\n              NTP service: active\n          RTC in local TZ: no\n</code></pre> Note <p>Some administrators prefer installing all servers in the UTC time zone to ensure that server logs across global deployments are synchronized. Zabbix supports user-based time zone settings, which allows the server to remain in UTC while individual users can adjust the time zone via the interface if needed.</p>"},{"location":"ch0-getting-started/Requirements/#verifying-chrony-synchronization","title":"Verifying Chrony Synchronization","text":"<p>To ensure that Chrony is synchronizing with the correct time servers, you can run the following command:</p> <pre><code># chronyc\n</code></pre> <p>The output should resemble:</p> <pre><code>chrony version 4.2\nCopyright (C) 1997-2003, 2007, 2009-2021 Richard P. Curnow and others\nchrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and\nyou are welcome to redistribute it under certain conditions.  See the\nGNU General Public License version 2 for details.\n\nchronyc&gt;\n</code></pre> <p>Once inside the Chrony prompt, type the following to check the sources:</p> <pre><code>chronyc&gt; sources\n</code></pre> <p>Example output:</p> <pre><code>MS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^- 51-15-20-83.rev.poneytel&gt;     2   9   377   354   +429us[ +429us] +/-  342ms\n^- 5.255.99.180                  2  10   377   620  +7424us[+7424us] +/-   37ms\n^- hachi.paina.net               2  10   377   412   +445us[ +445us] +/-   39ms\n^* leontp1.office.panq.nl        1  10   377   904  +6806ns[ +171us] +/- 2336us\n</code></pre> <p>In this example, the NTP servers in use are located outside your local region. It is recommended to switch to time servers in your country or, if available, to a dedicated company time server. You can find local NTP servers here.</p>"},{"location":"ch0-getting-started/Requirements/#updating-time-servers","title":"Updating Time Servers","text":"<p>To update the time servers, modify the <code>/etc/chrony.conf</code> file under RedHat based systems if you use Ubuntu edit <code>/etc/chrony/chrony.conf</code> . Replace the existing NTP server with one closer to your location.</p> <p>Example of the current configuration:</p> <pre><code># Use public servers from the pool.ntp.org project.\n# Please consider joining the pool (http://www.pool.ntp.org/join.html).\npool 2.centos.pool.ntp.org iburst\n</code></pre> <p>Change the pools you want to a local time server:</p> <pre><code># Use public servers from the pool.ntp.org project.\n# Please consider joining the pool (http://www.pool.ntp.org/join.html).\npool be.pool.ntp.org iburst\n</code></pre> <p>After making this change, restart the Chrony service to apply the new configuration:</p> <pre><code># systemctl restart chronyd\n</code></pre>"},{"location":"ch0-getting-started/Requirements/#verifying-updated-time-servers","title":"Verifying Updated Time Servers","text":"<p>Check the time sources again to ensure that the new local servers are in use:</p> <pre><code>chronyc&gt; sources\n</code></pre> <p>Example of expected output with local servers:</p> <pre><code>MS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^- ntp1.unix-solutions.be        2   6    17    43   -375us[ -676us] +/-   28ms\n^* ntp.devrandom.be              2   6    17    43   -579us[ -880us] +/- 2877us\n^+ time.cloudflare.com           3   6    17    43   +328us[  +27us] +/- 2620us\n^+ time.cloudflare.com           3   6    17    43\n</code></pre> <p>This confirms that the system is now using local time servers.</p>"},{"location":"ch0-getting-started/initial-steps/","title":"Getting Started with Zabbix \u2013 Unlocking the Power of Monitoring","text":"<p>Welcome to the world of Zabbix, a powerful open-source monitoring solution designed to give you comprehensive insights into your IT infrastructure. Whether you're managing a small network or overseeing a large-scale enterprise system, Zabbix provides the tools you need to monitor performance, detect issues, and ensure the smooth operation of your services.</p> <p>In this book, we focus on Zabbix LTS 8.0, the long-term support version that ensures stability and reliability for your monitoring needs. We'll explore its extensive feature set, including the newly introduced reporting functionality and built-in web monitoring based on the Selenium driver, which allows for sophisticated end-user experience monitoring through automated browser interactions.</p> <p>Zabbix is more than just a simple monitoring tool. It offers a wide range of features that allow you to:</p> <ul> <li>Monitor diverse environments: Track the performance and availability of servers, virtual machines, network devices, databases, and applications.</li> <li>Create dynamic visualizations: Use dashboards, graphs, maps, and screens to visualize data and get an overview of your system's health at a glance.</li> <li>Set up complex alerting mechanisms: Define triggers and actions that notify you of potential issues before they become critical, using various channels like email, SMS, and integrations with external services.</li> <li>Automate monitoring tasks: Leverage auto-discovery and auto-registration to keep up with changing environments without manual intervention.</li> <li>Customize and extend: Build custom scripts, templates, and integrations to tailor Zabbix to your specific needs.</li> </ul>"},{"location":"ch1-zabbix-components/basic-installation/","title":"Basic installation","text":"<p>In this chapter, we will walk through the process of installing the Zabbix server. There are many different ways to setup a Zabbix server. We will cover the most common setups with MariaDB and PostgreSQL on Ubuntu and on Rocky Linux.</p> <p>Before beginning the installation, it is important to understand the architecture of Zabbix. The Zabbix server is structured in a modular fashion, composed of three main components, which we will discuss in detail.</p> <ul> <li>The Zabbix server</li> <li>The Zabbix web server</li> <li>The Zabbix database</li> </ul> <p> 1.1 Zabbix basic split installation</p> <p>All of these components can either be installed on a single server or distributed across three separate servers. The core of the system is the Zabbix server, often referred to as the \"brain.\" This component is responsible for processing trigger calculations and sending alerts. The database serves as the storage for the Zabbix server\u2019s configuration and all the data it collects. The web server provides the user interface (front-end) for interacting with the system. It is important to note that the Zabbix API is part of the front-end component, not the Zabbix server itself.</p> <p>These components must function together seamlessly, as illustrated in the diagram above. The Zabbix server must read configurations and store monitoring data in the database, while the front-end needs access to read and write configuration data. Furthermore, the front-end must be able to check the status of the Zabbix server and retrieve additional necessary information to ensure smooth operation.</p> <p>For our setup, we will be using two virtual machines (VMs): one VM will host both the Zabbix server and the Zabbix web front-end, while the second VM will host the Zabbix database.</p> Note <p>It's perfect possible to install all components on 1 single VM or every component on a separate VM. Reason we split the DB as an example is because the database will probably be the first component giving you performance headaches. It's also the component that needs some extra attention when we split it so for this reason we have chosen in this example to split the database from the rest of the setup.</p> <p>We will cover the following topics:</p> <ul> <li>Install our Database based on MariaDB.</li> <li>Install our Database based on PostgreSQL.</li> <li>Installing the Zabbix server.</li> <li>Install the frontend.</li> </ul>"},{"location":"ch1-zabbix-components/basic-installation/#installing-the-mariadb-database","title":"Installing the MariaDB database","text":"<p>To begin the installation process for the MariaDB server, the first step involves manually creating a repository configuration file. This file, mariadb.repo on Rocky, must be placed in the /etc/yum.repos.d/ directory. The repository file will allow your package manager to locate and install the necessary MariaDB components. For Ubuntu we need to import the repository keys and create a file for example '/etc/apt/sources.list.d/mariadb.sources'.</p> <p>To create the MariaDB repository file, execute the following command in your terminal:</p> <pre><code>RedHat\n# vi /etc/yum.repos.d/mariadb.repo\n\nUbuntu\n# sudo apt-get install apt-transport-https curl\n# sudo mkdir -p /etc/apt/keyrings\n#sudo curl -o /etc/apt/keyrings/mariadb-keyring.pgp 'https://mariadb.org/mariadb_release_signing_key.pgp'\n\n# sudo vi /etc/apt/sources.list.d/mariadb.sources\n</code></pre> <p>This will open a text editor where you can input the repository configuration details. Once the repository is configured, you can proceed with the installation of MariaDB using your package manager.</p> Tip <p>Always check Zabbix documentation for the latest supported versions.</p> <p>The latest config can be found here: https://mariadb.org/download/?t=repo-config</p> <p>Here\u2019s the configuration you need to add into the file:</p> <pre><code>RedHat\n# MariaDB 11.4 RedHatEnterpriseLinux repository list - created 2025-02-21 10:15 UTC\n# https://mariadb.org/download/\n[mariadb]\nname = MariaDB\n# rpm.mariadb.org is a dynamic mirror if your preferred mirror goes offline. See https://mariadb.org/mirrorbits/ for details.\n# baseurl = https://rpm.mariadb.org/11.4/rhel/$releasever/$basearch\nbaseurl = https://mirror.bouwhuis.network/mariadb/yum/11.4/rhel/$releasever/$basearch\n# gpgkey = https://rpm.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgkey = https://mirror.bouwhuis.network/mariadb/yum/RPM-GPG-KEY-MariaDB\ngpgcheck = 1\n\nUbuntu\n# MariaDB 11.4 repository list - created 2025-02-21 11:42 UTC\n# https://mariadb.org/download/\nX-Repolib-Name: MariaDB\nTypes: deb\n# deb.mariadb.org is a dynamic mirror if your preferred mirror goes offline. See https://mariadb.org/mirrorbits/ for details.\n# URIs: https://deb.mariadb.org/11.4/ubuntu\nURIs: https://mirror.bouwhuis.network/mariadb/repo/11.4/ubuntu\nSuites: noble\nComponents: main main/debug\nSigned-By: /etc/apt/keyrings/mariadb-keyring.pgp\n</code></pre> <p>After saving the file, ensure that everything is properly set up and that your MariaDB version is compatible with your Zabbix version to avoid potential integration issues.</p> <p>Before proceeding with the MariaDB installation, it\u2019s a best practice to ensure your operating system is up-to-date with the latest patches and security fixes. This will help maintain system stability and compatibility with the software you're about to install.</p> <p>To update your OS, run the following command:</p> <pre><code>RedHat\n# dnf update -y\n\n\nUbuntu\nsudo apt-get update\n</code></pre> <p>This command will automatically fetch and install the latest updates available for your system, applying security patches, performance improvements, and bug fixes. Once the update process is complete, you can move forward with the MariaDB installation.</p>"},{"location":"ch1-zabbix-components/basic-installation/#install-the-mariadb-database","title":"Install the MariaDB database","text":"<p>With the operating system updated and the MariaDB repository configured, you are now ready to install the MariaDB server and client packages. This will provide the necessary components to run and manage your database.</p> <p>To install the MariaDB server and client, execute the following command:</p> <pre><code>RedHat\n# dnf install MariaDB-server MariaDB-client\n\nUbuntu\nsudo apt-get install mariadb-server\n</code></pre> <p>This command will download and install both the server and client packages, enabling you to set up, configure, and interact with your MariaDB database. Once the installation is complete, you can proceed to start and configure the MariaDB service.</p> <p>Now that MariaDB is installed, we need to enable the service to start automatically upon boot and start it immediately. Use the following command to accomplish this:</p> <pre><code>RedHat\n# systemctl enable mariadb --now\n</code></pre> <p>This command will both enable and start the MariaDB service. Once the service is running, you can verify that the installation was successful by checking the version of MariaDB using the following command:</p> <pre><code>RedHat and Ubuntu\n# mariadb -V\n</code></pre> <p>The expected output should resemble this:</p> <pre><code>mariadb from 11.4.5-MariaDB, client 15.2 for Linux (aarch64) using  EditLine wrapper\n</code></pre> <p>To ensure that the MariaDB service is running properly, you can check its status with the following command:</p> <pre><code>RedHat and Ubuntu\n# systemctl status mariadb\n</code></pre> <p>You should see an output similar to this, indicating that the MariaDB service is active and running:</p> <pre><code>mariadb.service - MariaDB 11.4.5 database server\n     Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; preset: disabled)\n    Drop-In: /etc/systemd/system/mariadb.service.d\n             \u2514\u2500migrated-from-my.cnf-settings.conf\n     Active: active (running) since Fri 2025-02-21 11:22:59 CET; 2min 8s ago\n       Docs: man:mariadbd(8)\n             https://mariadb.com/kb/en/library/systemd/\n    Process: 23147 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)\n    Process: 23148 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`/usr/bin/galera_recovery`; [ $? -eq 0 ]   &amp;&amp; systemctl set-enviro&gt;\n    Process: 23168 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)\n   Main PID: 23156 (mariadbd)\n     Status: \"Taking your SQL requests now...\"\n      Tasks: 7 (limit: 30620)\n     Memory: 281.7M\n        CPU: 319ms\n     CGroup: /system.slice/mariadb.service\n             \u2514\u250023156 /usr/sbin/mariadbd\n\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Plugin 'FEEDBACK' is disabled.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Plugin 'wsrep-provider' is disabled.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] InnoDB: Buffer pool(s) load completed at 250221 11:22:58\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Server socket created on IP: '0.0.0.0'.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] Server socket created on IP: '::'.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] mariadbd: Event Scheduler: Loaded 0 events\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: 2025-02-21 11:22:58 0 [Note] /usr/sbin/mariadbd: ready for connections.\nFeb 21 11:22:58 localhost.localdomain mariadbd[23156]: Version: '11.4.5-MariaDB'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MariaDB Server\nFeb 21 11:22:59 localhost.localdomain systemd[1]: Started MariaDB 11.4.5 database server.\n</code></pre> <p>This confirms that your MariaDB server is up and running, ready for further configuration.</p>"},{"location":"ch1-zabbix-components/basic-installation/#securing-the-mariadb-database","title":"Securing the MariaDB Database","text":"<p>To enhance the security of your MariaDB server, it's essential to remove unnecessary test databases, anonymous users, and set a root password. This can be done using the mariadb-secure-installation script, which provides a step-by-step guide to securing your database.</p> <p>Run the following command:</p> <pre><code>RedHat and Ubuntu\n# sudo mariadb-secure-installation\n</code></pre> <pre><code>NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user. If you've just installed MariaDB, and\nhaven't set the root password yet, you should just press enter here.\n\nEnter current password for root (enter for none):\nOK, successfully used password, moving on...\n\nSetting the root password or using the unix_socket ensures that nobody\ncan log into the MariaDB root user without the proper authorisation.\n\nYou already have your root account protected, so you can safely answer 'n'.\n\nSwitch to unix_socket authentication [Y/n] n\n ... skipping.\n\nYou already have your root account protected, so you can safely answer 'n'.\n\nChange the root password? [Y/n] y\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] y\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] y\n ... Success!\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] y\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] y\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n</code></pre> <p>The mariadb-secure-installation script will guide you through several key steps:</p> <ol> <li>Set a root password if one isn't already set.</li> <li>Remove anonymous users.</li> <li>Disallow remote root logins.</li> <li>Remove the test database.</li> <li>Reload the privilege tables to ensure the changes take effect.</li> </ol> <p>Once complete, your MariaDB instance will be significantly more secure. You are now ready to configure the database for Zabbix.</p>"},{"location":"ch1-zabbix-components/basic-installation/#create-the-zabbix-database","title":"Create the Zabbix database","text":"<p>With MariaDB now set up and secured, we can move on to creating the database for Zabbix. This database will store all the necessary data related to your Zabbix server, including configuration information and monitoring data.</p> <p>Follow these steps to create the Zabbix database:</p> <p>Log in to the MariaDB shell as the root user: You'll be prompted to enter the root password that you set during the mariadb-secure-installation process.</p> <pre><code>RedHat and Ubuntu\n# mariadb -uroot -p\n</code></pre> <p>Once you're logged into the MariaDB shell, run the following command to create a database for Zabbix:</p> <pre><code>MariaDB [(none)]&gt; CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;\n</code></pre> Note <p>utf8mb4 is a proper implementation of UTF-8 in MySQL/MariaDB, supporting all Unicode characters, including emojis. The older utf8 charset in MySQL/MariaDB only supports up to three bytes per character and is not a true UTF-8 implementation, which is why utf8mb4 is recommended.</p> <p>This command creates a new database named zabbix with the UTF-8 character set, which is required for Zabbix.</p> <p>Create a dedicated user for Zabbix and grant the necessary privileges: Next, you need to create a user that Zabbix will use to access the database. Replace password with a strong password of your choice.</p> <pre><code>MariaDB [(none)]&gt; CREATE USER 'zabbix-web'@'&lt;zabbix server ip&gt;' IDENTIFIED BY '&lt;password&gt;';\nMariaDB [(none)]&gt; CREATE USER 'zabbix-srv'@'&lt;zabbix server ip&gt;' IDENTIFIED BY '&lt;password&gt;';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON zabbix.* TO 'zabbix-srv'@'&lt;zabbix server ip&gt;';\nMariaDB [(none)]&gt; GRANT SELECT, UPDATE, DELETE, INSERT ON zabbix.* TO 'zabbix-web'@'&lt;zabbix server ip&gt;';\nMariaDB [(none)]&gt; FLUSH PRIVILEGES;\n</code></pre> <p>This creates new users for zabbix-web and zabbix-srv, grants them access to the zabbix database, and ensures that the privileges are applied immediately.</p> <p>In some cases, especially when setting up Zabbix with MariaDB, you might encounter issues related to stored functions and triggers if binary logging is enabled. To address this, you need to set the log_bin_trust_function_creators option to 1 in the MariaDB configuration file. This allows non-root users to create stored functions and triggers without requiring SUPER privileges, which are restricted when binary logging is enabled.</p> <pre><code>MariaDB [(none)]&gt; SET GLOBAL log_bin_trust_function_creators = 1;\nMariaDB [(none)]&gt; QUIT\n</code></pre> <p>At this point, your Zabbix database is ready, and you can proceed with configuring the Zabbix server to connect to the database.</p> Warning <p>In the Zabbix documentation, it is explicitly stated that deterministic triggers need to be created during the schema import. On MySQL and MariaDB systems, this requires setting GLOBAL log_bin_trust_function_creators = 1 if binary logging is enabled, and you lack superuser privileges.</p> <p>If the log_bin_trust_function_creators option is not set in the MySQL configuration file, it will block the creation of these triggers during schema import. This is essential because, without superuser access, non-root users cannot create triggers or stored functions unless this setting is applied.</p> <p>To summarize:</p> <ul> <li> <p>Binary logging enabled: If binary logging is enabled and the user does not   have superuser privileges, the creation of necessary Zabbix triggers will   fail unless log_bin_trust_function_creators = 1 is set.</p> </li> <li> <p>Solution: Add log_bin_trust_function_creators = 1 to the [mysqld] section   in your MySQL/MariaDB configuration file or temporarily set it at runtime   with SET GLOBAL log_bin_trust_function_creators = 1 if you have sufficient   permissions.</p> </li> </ul> <p>This ensures that Zabbix can successfully create the required triggers during schema import without encountering privilege-related errors.</p>"},{"location":"ch1-zabbix-components/basic-installation/#installing-the-postgresql-database","title":"Installing the PostgreSQL database","text":"<p>For our DB setup with PostgreSQL we need to add our PostgreSQL repository first to the system. As of writing PostgreSQL 13-17 are supported but best is to have a look before you install it as new versions may be supported and older maybe unsupported both by Zabbix and PostgreSQL. Usually it's a good idea to go with the latest version that is supported by Zabbix. Zabbix also supports the extension TimescaleDB this is something we will talk later about. As you will see the setup from PostgreSQL is very different from MySQL not only the installation but also securing the DB.</p> <p>The table of compatibility can be found https://docs.timescale.com/self-hosted/latest/upgrades/upgrade-pg/</p>"},{"location":"ch1-zabbix-components/basic-installation/#add-the-postgresql-repository","title":"Add the PostgreSQL repository","text":"<p>So let us start first setting up our PostgreSQL repository with the following commands.</p> <pre><code>RedHat\n\n# Install the repository RPM:\nsudo dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-9-x86_64/pgdg-redhat-repo-latest.noarch.rpm\n\n# Disable the built-in PostgreSQL module:\nsudo dnf -qy module disable postgresql\n\n# Install PostgreSQL:\nsudo dnf install -y postgresql17-server\n\n# Initialize the database and enable automatic start:\nsudo /usr/pgsql-17/bin/postgresql-17-setup initdb\nsudo systemctl enable postgresql-17 --now\n\nUbuntu\n\ntodo\n</code></pre>"},{"location":"ch1-zabbix-components/basic-installation/#securing-the-postgresql-database","title":"Securing the PostgreSQL database","text":"<p>PostgreSQL handles access permissions differently from MySQL and MariaDB. PostgreSQL relies on a file called pg_hba.conf to manage who can access the database, from where, and what encryption method is used for authentication.</p> Note <p>Client authentication in PostgreSQL is configured through the pg_hba.conf file, where \"HBA\" stands for Host-Based Authentication. This file specifies which users can access the database, from which hosts, and how they are authenticated. For further details, you can refer to the official PostgreSQL documentation.\" https://www.postgresql.org/docs/current/auth-pg-hba-conf.html</p> <p>Add the following lines, the order here is important.</p> <pre><code>Redhat\n\n# vi /var/lib/pgsql/17/data/pg_hba.conf\n\nUbuntu\n\nTodo\n</code></pre> <p>The result should look like : </p> <pre><code># \"local\" is for Unix domain socket connections only\nlocal    zabbix     zabbix-srv                                                              scram-sha-256\nlocal    all            all                                                                            peer\n# IPv4 local connections\nhost     zabbix     zabbix-srv          &lt;ip from zabbix server/24&gt;     scram-sha-256\nhost     zabbix     zabbix-web        &lt;ip from zabbix server/24&gt;     scram-sha-256\nhost     all            all                         127.0.0.1/32                            scram-sha-256\n</code></pre> <p>After we changed the pg_hba file don't forget to restart postgres else the settings will not be applied. But before we restart let us also edit the file postgresql.conf and allow our database to listen on our network interface for incoming connections from the zabbix server. Postgresql will standard only allow connections from the socket.</p> <pre><code>RedHat\n# vi /var/lib/pgsql/17/data/postgresql.conf\n\nUbuntu\n\ntodo\n</code></pre> <p>To configure PostgreSQL to listen on all network interfaces, you need to modify the <code>postgresql.conf</code> file. Locate the following line:</p> <pre><code>#listen_addresses = 'localhost'\n</code></pre> <p>and replace it with:</p> <pre><code>listen_addresses = '*'\n</code></pre> <p>This will enable PostgreSQL to accept connections from any network interface, not just the local machine. After making this change, restart the PostgreSQL service to apply the new settings:</p> <pre><code>Redhat\n# systemctl restart postgresql-17\n\nUbuntu\n\ntodo\n</code></pre> <p>If the service fails to restart, review the pg_hba.conf file for any syntax errors, as incorrect entries here may prevent PostgreSQL from starting.</p> <p>Next, to prepare your PostgreSQL instance for Zabbix, you'll need to create the necessary database tables. Begin by installing the Zabbix repository, as you did for the Zabbix server. Then, install the appropriate Zabbix package that contains the predefined tables, images, icons, and other database elements needed for the Zabbix application.</p>"},{"location":"ch1-zabbix-components/basic-installation/#add-the-zabbix-repository-and-populate-the-pgsql-db","title":"Add the Zabbix repository and populate the PgSQL DB","text":"<p>To begin, add the Zabbix repository to your system by running the following commands:</p> <pre><code>RedHat\n# dnf install https://repo.zabbix.com/zabbix/7.2/release/rocky/9/noarch/zabbix-release-latest-7.2.el9.noarch.rpm -y\n# dnf install zabbix-sql-scripts -y \n\nUbuntu\n\ntodo\n</code></pre> <p>With the necessary packages installed, you are now ready to create the Zabbix users for both the server and frontend.</p> <p>First, switch to the <code>postgres</code> user and create the Zabbix server database user:</p> <pre><code># su - postgres\n# createuser --pwprompt zabbix-srv\nEnter password for new role: &lt;server-password&gt;\nEnter it again: &lt;server-password&gt;\n</code></pre> <p>Next, create the Zabbix frontend user, which will be used to connect to the database:</p> <pre><code># createuser --pwprompt zabbix-web\nEnter password for new role: &lt;frontend-password&gt;\nEnter it again: &lt;frontend-password&gt;\n</code></pre> <p>After creating the users, you need to prepare the database schema. As the root user, unzip the necessary schema files by running the following command:</p> <pre><code>RedHat\n# gzip -d /usr/share/zabbix/sql-scripts/postgresql/server.sql.gz\n\nUbuntu\n\ntodo\n</code></pre> Note <p>Zabbix seems to like to change the locations of the script to populate the DB every version or in between versions. If you encounter an error take a look at the Zabbix documentation there is a good chance that some location was changed.</p> <p>This will extract the database schema required for the Zabbix server.</p> <p>Now that the users are created, the next step is to create the Zabbix database.  First, switch to the <code>postgres</code> user and execute the following command to create the database with the owner set to zabbix-srv:</p> <pre><code>RedHat\n# su - postgres\n# createdb -E Unicode -O zabbix-srv zabbix\n# exit\n\nUbuntu\n\nTodo\n</code></pre> <p>Once the database is created, you should verify the connection and ensure that the correct user session is active. To do this, log into the zabbix database using the zabbix-srv user:</p> <pre><code># psql -d zabbix -U zabbix-srv\n</code></pre> <p>After logging in, run the following SQL query to confirm that both the <code>session_user</code> and <code>current_user</code> are set to <code>zabbix-srv</code>:</p> <pre><code>zabbix=&gt; SELECT session_user, current_user;\n session_user | current_user\n--------------+--------------\n zabbix-srv   | zabbix-srv\n(1 row)\n</code></pre> <p>If the output matches, you are successfully connected to the database with the correct user.</p> <p>PostgreSQL indeed differs significantly from MySQL or MariaDB in several aspects, and one of the key features that sets it apart is its use of schemas. Unlike MySQL, where databases are more standalone, PostgreSQL's schema system provides a structured, multi-user environment within a single database.</p> <p>Schemas act as logical containers within a database, enabling multiple users or applications to access and manage data independently without conflicts. This feature is especially valuable in environments where several users or applications need to interact with the same database concurrently. Each user or application can have its own schema, preventing accidental interference with each other\u2019s data.</p> Note <p>PostgreSQL comes with a default schema, typically called public, but it's in general best practice to create custom schemas to better organize and separate database objects, especially in complex or multi-user environments.</p> <p>For more in-depth information, I recommend checking out the detailed guide at this URI, https://hevodata.com/learn/postgresql-schema/#schema which explains the benefits and use cases for schemas in PostgreSQL.</p> <p>To finalize the database setup for Zabbix, we need to configure schema permissions for both the <code>zabbix-srv</code> and <code>zabbix-web</code> users.</p> <p>First, we create a custom schema named <code>zabbix_server</code> and assign ownership to the <code>zabbix-srv</code> user:</p> <pre><code>zabbix=&gt; CREATE SCHEMA zabbix_server AUTHORIZATION \"zabbix-srv\";\nCREATE SCHEMA\n</code></pre> <p>Next, we set the <code>search path</code> to <code>zabbix_server</code> schema so that it's the default for the current session:</p> <pre><code>zabbix=&gt; SET search_path TO \"zabbix_server\";\n</code></pre> <p>To confirm the schema setup, you can list the existing schemas:</p> <pre><code>zabbix=&gt; \\dn\n          List of schemas\n     Name      |       Owner\n---------------+-------------------\n public        | pg_database_owner\n zabbix_server | zabbix-srv\n(2 rows)\n</code></pre> <p>At this point, the <code>zabbix-srv</code> user has full access to the schema, but the <code>zabbix-web</code> user still needs appropriate permissions to connect and interact with the database. First, we grant <code>USAGE</code> privileges on the schema to allow <code>zabbix-web</code> to connect:</p> <pre><code>zabbix=# GRANT USAGE ON SCHEMA zabbix_server TO \"zabbix-web\";\nGRANT\n</code></pre> <p>However, <code>zabbix-web</code> still cannot perform any operations on the tables or sequences. To allow basic data interaction without giving too many privileges, grant the following permissions:</p> <ul> <li>For tables: SELECT, INSERT, UPDATE, and DELETE.</li> <li>For sequences: SELECT and UPDATE.</li> </ul> <pre><code>zabbix=# GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA zabbix_server TO \"zabbix-web\";\ngrant\n</code></pre> <pre><code>zabbix=# GRANT SELECT, UPDATE ON ALL SEQUENCES IN SCHEMA zabbix_server TO \"zabbix-web\";\nGRANT\n</code></pre> <p>Now, the <code>zabbix-web</code> user has appropriate access to interact with the schema while maintaining security by limiting permissions to essential operations.</p> <p>With the users and permissions set up correctly, you can now populate the database with the Zabbix schema created and other required elements. Follow these steps:</p> <ul> <li>Execute the SQL file to populate the database. Run the following command in the <code>psql</code> shell:</li> </ul> Warning <p>Make sure you did previous steps carefully so that you have selected the correct search_path.</p> <pre><code>sql zabbix=# \\i /usr/share/zabbix/sql-scripts/postgresql/server.sql\n</code></pre> Warning <p>Depending on your hardware or VM performance, this process can take anywhere from a few seconds to several minutes. Please be patient and avoid cancelling the operation.</p> <ul> <li>Monitor the progress as the script runs. You will see output similar to:</li> </ul> <pre><code>zabbix=&gt; \\i /usr/share/zabbix/sql-scripts/postgresql/server.sql\nCREATE TABLE\nCREATE INDEX\nCREATE TABLE\nCREATE INDEX\nCREATE TABLE\n...\n...\n...\nINSERT 0 10444\nDELETE 90352\nCOMMIT\n</code></pre> <p>Once the script completes and you return to the <code>zabbix=#</code> prompt, the database should be successfully populated with all the required tables, schemas, images, and other elements needed for Zabbix.</p> Note <p>If you encounter the following error during the SQL import:  <code>vbnet psql:/usr/share/zabbix/sql-scripts/postgresql/server.sql:7: ERROR: no schema has been selected to create in</code> It indicates that the search_path setting might not have been correctly applied. This setting is crucial because it specifies the schema where the tables and other objects should be created. By correctly setting the search path, you ensure that the SQL script will create tables and other objects in the intended schema.</p> <p>To ensure that the Zabbix tables were created successfully and have the correct permissions, you can verify the table list and their ownership using the <code>psql</code> command:</p> <ul> <li>List the Tables: Use the following command to list all tables in the <code>zabbix_server</code> schema:</li> </ul> <pre><code>sql zabbix=# \\dt\n</code></pre> <p>You should see a list of tables with their schema, name, type, and owner. For example:</p> <pre><code>zabbix=&gt; \\dt\n                        List of relations\n    Schema     |            Name            | Type  |   Owner\n---------------+----------------------------+-------+------------\n zabbix_server | acknowledges               | table | zabbix-srv\n zabbix_server | actions                    | table | zabbix-srv\n zabbix_server | alerts                     | table | zabbix-srv\n zabbix_server | auditlog                   | table | zabbix-srv\n zabbix_server | autoreg_host               | table | zabbix-srv\n zabbix_server | changelog                  | table | zabbix-srv\n zabbix_server | conditions                 | table | zabbix-srv\n...\n...\n...\n zabbix_server | valuemap                   | table | zabbix-srv\n zabbix_server | valuemap_mapping           | table | zabbix-srv\n zabbix_server | widget                     | table | zabbix-srv\n zabbix_server | widget_field               | table | zabbix-srv\n(203 rows)\n</code></pre> <ul> <li>Verify Permissions: Confirm that the zabbix-srv user owns the tables and has the necessary permissions. You can check permissions for specific tables using the \\dp command:</li> </ul> <pre><code>sql zabbix=# \\dp zabbix_server.*\n</code></pre> <p>This will display the access privileges for all tables in the <code>zabbix_server</code> schema. Ensure that <code>zabbix-srv</code> has the required privileges.</p> <p>If everything looks correct, your tables are properly created and the <code>zabbix-srv</code> user has the appropriate ownership and permissions. If you need to adjust any permissions, you can do so using the GRANT commands as needed.</p> Note <p>If you prefer not to set the search path manually each time you log in as the <code>zabbix-srv</code> user, you can configure PostgreSQL to automatically use the desired search path. Run the following SQL command to set the default search path for the <code>zabbix-srv</code> role:</p> <p>sql zabbix=&gt; ALTER ROLE \"zabbix-srv\" SET search_path = \"$user\", public, zabbix_server;</p> <p>This command ensures that every time the <code>zabbix-srv</code> user connects to the database, the <code>search_path</code> is automatically set to include <code>$user</code>, <code>public</code>, and <code>zabbix_server</code>.</p> <p>If you are ready you can exit the database and return as user root.</p> <pre><code>zabbix=&gt; \\q\n</code></pre>"},{"location":"ch1-zabbix-components/basic-installation/#installing-the-zabbix-server","title":"Installing the Zabbix server","text":""},{"location":"ch1-zabbix-components/basic-installation/#installing-the-frontend","title":"Installing the frontend","text":""},{"location":"ch1-zabbix-components/chapter/","title":"Zabbix components, basic functions and installation","text":"<p>In this chapter, we expand on the foundational knowledge from the \"Getting Started\" section to provide a comprehensive guide for both beginners who are installing Zabbix for the first time and advanced users who seek to optimize their setup. We\u2019ll not only cover the essential steps for a basic installation but also delve into the finer details of Zabbix architecture, components, and best practices.</p> <p>We\u2019ll start by walking through the installation process, ensuring you have a solid foundation to build on. From there, we'll move into the core components of Zabbix, what each one does, how they interact, and why they are crucial to your monitoring solution. You'll learn about subprocesses, their roles, and how they contribute to Zabbix efficiency and reliability.</p> <p>Additionally, we\u2019ll explore good architectural choices that can make or break your monitoring setup. Whether you're managing a small network or a large-scale infrastructure, making the right design decisions early on will pay dividends in scalability, performance, and maintenance.</p> <p>This chapter is designed to cater to a wide range of readers. If you're simply looking to get Zabbix up and running, you'll find clear, step-by-step instructions. For those wanting to dive deeper, we'll provide detailed insights into how Zabbix functions under the hood, helping you make informed choices that align with your needs and future growth plans.</p> <p>By the end of this chapter, you will have not only a working Zabbix installation but also a thorough understanding of its components and architecture, empowering you to leverage Zabbix to its fullest potential, regardless of the complexity of your environment.</p> <p>Let\u2019s embark on this detailed journey into Zabbix and equip ourselves with the knowledge to both start and optimize a powerful monitoring solution.</p>"},{"location":"ch1-zabbix-components/ha-setup/","title":"HA Setup","text":""},{"location":"ch10-zabbix-discovery/chapter/","title":"Automating Your Monitoring with Auto Discovery and Active Agent Auto Registration","text":"<p>In this chapter, we'll explore two powerful automation features in Zabbix: auto discovery and active agent auto-registration. These tools are essential for scaling your monitoring efforts by minimizing manual configuration and ensuring new devices and services are seamlessly integrated into your Zabbix environment.</p> <p>We'll begin with auto discovery, which enables Zabbix to automatically detect and monitor new hosts and services within your network. You'll learn how to configure discovery rules, actions, and conditions to automate the onboarding process, making your monitoring more dynamic and adaptive to changes in your infrastructure.</p> <p>Next, we'll dive into active agent auto registration, which simplifies the management of Zabbix agents, especially in large or rapidly changing environments. We'll cover how to set up auto-registration rules that allow agents to register themselves with the Zabbix server, reducing administrative overhead and ensuring all relevant data is captured efficiently.</p> <p>By the end of this chapter, you'll have a thorough understanding of how to leverage auto-discovery and auto-registration to create a more automated, scalable, and efficient monitoring system.</p>"},{"location":"ch11-zabbix-visualisation/chapter/","title":"Graphs, Dashboards, Reports, Maps and other visualisation","text":"<p>In this chapter, we delve into the heart of Zabbix's visualization capabilities, where data comes to life through intuitive and powerful visual tools. From dynamic graphs that track your system's performance to comprehensive dashboards that provide at-a-glance insights, Zabbix offers a rich set of visualization features to help you understand and manage your infrastructure.</p> <p>We'll start by exploring graphs, which allow you to monitor metrics over time, helping you spot trends and anomalies with ease. Next, we'll move on to dashboards, where you can aggregate multiple widgets into a single view for a more holistic understanding of your network's health.</p> <p>Then, we'll discuss reports an essential feature for summarizing and sharing insights with your team or stakeholders. Finally, we'll cover maps, a unique visualization tool that lets you create interactive representations of your network topology, making it easier to pinpoint issues and understand relationships between different components.</p> <p>By the end of this chapter, you'll have a comprehensive understanding of how to leverage Zabbix's visualization tools to monitor, analyse, and communicate the state of your IT environment effectively.  Whether you're a seasoned administrator or just starting with Zabbix, mastering these visual tools will enhance your ability to manage complex infrastructures and ensure optimal performance.</p> <p>Let's dive into the world of Zabbix visualizations and unlock the full potential of your monitoring setup.</p>"},{"location":"ch12-zabbix-api/chapter/","title":"Zabbix API","text":"<p>The Zabbix API is a crucial part for anyone looking to expand the capabilities of their Zabbix environment, automate time-consuming tasks and get information for usage in other systems. In this chapter we will go over various of these capabilities to expand our knowledge of the Zabbix API.</p>"},{"location":"ch13-zabbix-real-world-examples/chapter/","title":"Zabbix real world examples","text":"<p>In this book we have learned a lot about our Zabbix environment, but most of it is building the foundation to start doing it on your own. From time to time you will encounter an implementation in a Zabbix environment that uses out of the box thinking or is just so simple you can't believe you never thought of it.</p> <p>This chapter aims to provide you a collection of interesting things people have built and things you absolutely have to know exist. </p>"},{"location":"ch2-zabbix-installation/chapter/","title":"Getting started with the Zabbix installation","text":"<p>We begin this chapter with a deep dive into the Zabbix frontend, the central hub where all monitoring and configuration tasks come together. Alongside the basic introduction to navigating the frontend, this chapter also covers user and group setup, focusing on creating a secure and efficient user management system.</p> <p>We'll walk through setting up internal authentication with best practices for security, including dual-factor authentication. For those needing advanced integration, we'll explore options like SAML, LDAP, and other external authentication methods.</p> <p>This chapter strikes a balance between a straightforward overview \u201cthis is the frontend\u201d and a more in depth look at the advanced choices you can make to enhance your system's security and manageability. Whether you're just getting started or looking to implement robust security measures, there's something here for everyone.</p> <p>By the end, you'll be well equipped to navigate the Zabbix frontend with confidence and set up a secure, scalable user management system tailored to your organization's needs.</p>"},{"location":"ch2-zabbix-installation/external-authentication/","title":"External authentication","text":""},{"location":"ch2-zabbix-installation/external-authentication/#http","title":"HTTP","text":""},{"location":"ch2-zabbix-installation/external-authentication/#ldap-ad","title":"LDAP / AD","text":""},{"location":"ch2-zabbix-installation/external-authentication/#saml","title":"SAML","text":""},{"location":"ch2-zabbix-installation/external-authentication/#google","title":"Google","text":""},{"location":"ch2-zabbix-installation/external-authentication/#ms-cloud","title":"MS Cloud","text":""},{"location":"ch2-zabbix-installation/external-authentication/#okta","title":"Okta","text":""},{"location":"ch2-zabbix-installation/frontend/","title":"Frontend explained","text":""},{"location":"ch2-zabbix-installation/host-groups/","title":"Host groups","text":""},{"location":"ch2-zabbix-installation/user-groups/","title":"User groups","text":""},{"location":"ch3-zabbix-proxies/active-proxies/","title":"Active proxies","text":""},{"location":"ch3-zabbix-proxies/chapter/","title":"Proxies and the Web services component","text":"<p>Proxies are often regarded as an advanced topic in Zabbix, but in reality, they are a fundamental part of many installations and one of the first components we set up for numerous customers. In this chapter, we'll make proxies the third subject we cover, encouraging you to consider them from the very beginning of your Zabbix journey.</p> <p>We'll start with a basic proxy setup, providing straightforward steps to get you up and running quickly. Then, we'll take a deep dive into the mechanics of proxies how they operate within the Zabbix ecosystem, their benefits, and the critical role they play in distributing monitoring load and enhancing system scalability.</p> <p>Understanding proxies from the start can significantly improve your architecture, especially in distributed or large scale environments. Whether you're new to Zabbix or looking to refine your existing setup, this chapter will offer valuable insights into why proxies should be an integral part of your monitoring strategy from the start.</p> <p>By the end, you'll not only know how to set up a basic proxy but also have a clear understanding of their underlying workings and strategic advantages, ensuring you make informed decisions as you scale your Zabbix installation.</p>"},{"location":"ch3-zabbix-proxies/passive-proxies/","title":"Passive Proxies","text":""},{"location":"ch3-zabbix-proxies/web-services/","title":"Web services","text":""},{"location":"ch4-zabbix-collecting-data/chapter/","title":"Collecting data with your Zabbix environment","text":"<p>In this chapter, we'll take a detailed journey through Zabbix data flow, showing how to progress from an empty setup to a fully functioning system capable of sending timely notifications. We\u2019ll break down each step, giving you a clear understanding of how data moves through Zabbix.</p> <p>We'll then explore the various protocols used in Zabbix, how they function, their compatibility with different components, and how to configure them effectively. This will provide you with a comprehensive overview of the communication backbone that powers Zabbix monitoring capabilities.</p> <p>Next, we'll cover the essentials like hosts, host groups, host interfaces, and items, ensuring you understand their roles and how to set them up correctly. </p> <p>For now, we'll hold off on custom scripts and external check items, focusing instead on the core elements. When we touch on active agents, we'll reference the chapter on auto-registration, guiding you to more detailed discussions on that topic later.</p> <p>By the end of this chapter, you'll have a strong grasp of Zabbix data flow and the protocols that enable seamless monitoring and notifications, preparing you for more advanced configurations and integrations.</p>"},{"location":"ch4-zabbix-collecting-data/dataflow/","title":"Dataflow","text":""},{"location":"ch4-zabbix-collecting-data/hosts/","title":"Hosts","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#host-interfaces","title":"Host Interfaces","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#zbx","title":"ZBX","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#snmp","title":"SNMP","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#ipmi","title":"IPMI","text":""},{"location":"ch4-zabbix-collecting-data/hosts/#jmx","title":"JMX","text":""},{"location":"ch4-zabbix-collecting-data/protocols/","title":"Protocols","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-agent","title":"Zabbix Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-agent-active","title":"Zabbix Agent (Active)","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#simple-check","title":"Simple check","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#snmp-agent","title":"SNMP Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#snmp-trap","title":"SNMP trap","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-internal","title":"Zabbix Internal","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#zabbix-trapper","title":"Zabbix trapper","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#external-check","title":"External check","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#database-monitor","title":"Database monitor","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#http-agent","title":"HTTP Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#ipmi-agent","title":"IPMI Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#ssh-telnet-agent","title":"SSH / Telnet Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#jmx-agent","title":"JMX Agent","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#calculated","title":"Calculated","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#dependent-item","title":"Dependent item","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#script","title":"Script","text":""},{"location":"ch4-zabbix-collecting-data/protocols/#browser","title":"Browser","text":""},{"location":"ch5-zabbix-triggers/advanced-triggers/","title":"Advanced triggers","text":""},{"location":"ch5-zabbix-triggers/chapter/","title":"Setting up triggers","text":"<p>In this chapter, we'll explore triggers in depth, starting with the basics of setting up step triggers and progressively moving into advanced trigger configurations. You'll gain a thorough understanding of how triggers work, ensuring you can leverage them effectively to monitor your infrastructure.</p> <p>We'll take a deep dive into the mechanics of triggers, examining how they evaluate conditions and generate alerts. This section will also address the important topic of monitoring and alerting fatigue, providing strategies to fine-tune your triggers to reduce unnecessary alerts while maintaining optimal system oversight.</p> <p>By the end, you'll have the knowledge to set up both simple and complex triggers, helping you maintain a well balanced monitoring system that minimizes noise and focuses on what truly matters.</p>"},{"location":"ch5-zabbix-triggers/triggers/","title":"Triggers","text":""},{"location":"ch6-zabbix-templates/chapter/","title":"Building and using templates","text":"<p>A great way to guide users towards a deeper understanding of Zabbix is by initially holding off on templates and gradually introducing them much like in formal training. In this chapter, we'll start by explaining the basic usage of default templates and how to find new ones, helping you get up and running with minimal effort.</p> <p>Once you're comfortable with default templates, we\u2019ll dive into building your own templates, offering detailed instructions on customization and best practices. We\u2019ll also cover how to share your templates within the Zabbix community, fostering collaboration and knowledge exchange.</p> <p>To round off, we'll feature Tags and Macros, explaining their roles within templates and why they're most effective when understood in the context of template usage. This structured approach will ensure you grasp the full potential of templates and their associated features in Zabbix.</p> <p>By the end of this chapter, you'll be well versed in both using and creating templates, equipped to enhance your monitoring setup and contribute to the broader Zabbix ecosystem.</p>"},{"location":"ch7-zabbix-alerts/chapter/","title":"Sending out alerts with Zabbix","text":"<p>After delving into templates, it's time to return to the data flow and bring everything together by exploring integrations with powerful external services. In this chapter, we\u2019ll complete the data flow journey, showing how to extend Zabbix capabilities through seamless connections with third-party tools and platforms.</p> <p>We'll guide you through setting up integrations that enhance your monitoring system, covering various use cases from alerting to data visualization and automation. By integrating Zabbix with external services, you'll unlock new levels of functionality, making your monitoring setup more dynamic and adaptable.</p> <p>By the end, you'll have a well-rounded understanding of how to fully utilize Zabbix data flow, augmented by strategic integrations that add value to your infrastructure management.</p>"},{"location":"ch8-zabbix-lld/chapter/","title":"Using Low level discovery to automate","text":"<p>In this chapter, we'll dive into Low-Level Discovery (LLD), covering everything there is to know about this powerful feature in Zabbix. LLD automates the creation of hosts, items, triggers, and more, simplifying the management of large and dynamic environments.</p> <p>We'll also explain how to work with custom JSON in the context of LLD, showing you how to tailor discovery rules to fit your unique needs. By mastering these techniques, you'll be able to create highly adaptable monitoring setups that respond to changes in your infrastructure with minimal manual intervention.</p> <p>By the end of this chapter, you'll have a deep understanding of LLD, from basic concepts to advanced customization, enabling you to leverage its full potential in your Zabbix deployment.</p>"},{"location":"ch9-zabbix-extending/chapter/","title":"Leveraging custom items for extending the Zabbix environment","text":"<p>In this chapter, we'll take a deep dive into extending Zabbix functionality beyond its default item options. We'll cover the script item, external checks, remote commands, user parameters, and other advanced features that allow you to customize and expand your monitoring capabilities.</p> <p>You'll learn how to use these tools to integrate custom logic, monitor external applications, and automate tasks, making Zabbix an even more powerful and flexible solution tailored to your specific needs. </p> <p>By the end, you'll have the skills to push Zabbix beyond its default configuration, unlocking new possibilities for complex and unique monitoring scenarios.</p>"}]}